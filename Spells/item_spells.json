
[

  {
        "id": "PSY_magi_random_polymorph",
        "type": "SPELL",
        "name": "Random Polymorph",
        "description": "Transform target enemy into random monster.",
        "valid_targets": [ "hostile" ],
        "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "NO_PROJECTILE","POLYMORPH_GROUP" ],
        "effect": "targeted_polymorph",
        "effect_str": "GROUP_PSY_magi_TRANSFORM",
        "shape": "blast",
        "spell_class": "NONE",
        "energy_source": "MANA",
        "base_casting_time": 250,
        "casting_time_increment": -5.0,
        "final_casting_time": 150,
        "base_energy_cost": 250,
        "energy_increment": -5,
        "final_energy_cost": 150,
        "difficulty": 6,
        "max_level": 20,
        "min_damage": 100,
        "max_damage": 300,
        "damage_increment": 10,
        "damage_type": "pure",
        "min_range": 5,
        "max_range": 30,
        "range_increment": 1.5
  },

    {
      "id": "PSY_magi_moon_light_magic",
      "type": "SPELL",
      "name": "Moon light",
      "description": "A magic that condenses the power of moonlight and releases it as a laser.",
      "valid_targets": [ "hostile", "ally" ,"ground"],
      "flags": [ "NO_PROJECTILE","LOUD" ],
      "effect": "attack",
      "shape": "line",
      "spell_class": "NONE",
      "energy_source": "MANA",
      "difficulty": 12,
      "max_level": 1,
      "base_casting_time": 270,
      "base_energy_cost": 200,
      "final_energy_cost": 200,
      "min_damage": 35,
      "max_damage": 35,
      "damage_type": "cold",
      "field_id": "fd_dazzling",
      "min_field_intensity": 1,
      "max_field_intensity": 1,
      "min_range": 15,
      "max_range": 15,
      "range_increment": 1.0
    },

    {
      "id": "PSY_magi_throw_ice_lance",
      "type": "SPELL",
      "name": "Throw Ice Lance",
      "description": "Throw an ice lance at the target point and create ice fields in the spear's path.",
      "valid_targets": [ "hostile", "ally" ,"ground"],
      "flags": [ "NO_PROJECTILE","LOUD" ],
      "effect": "attack",
      "shape": "line",
      "spell_class": "NONE",
      "energy_source": "MANA",
      "difficulty": 6,
      "max_level": 10,
      "base_casting_time": 270,
      "base_energy_cost": 300,
      "final_energy_cost": 300,
      "min_damage": 35,
      "max_damage": 35,
      "damage_type": "cold",
      "field_id": "fd_PSY_magi_ice_field",
      "min_field_intensity": 3,
      "max_field_intensity": 3,
      "min_range": 10,
      "max_range": 20,
      "range_increment": 1.0
    },

    {
      "id": "PSY_magi_create_stunning_line",
      "type": "SPELL",
      "name": "Create Stunning Field",
      "description": "Create a field of stunning in the area of the target point.",
      "valid_targets": [ "hostile", "ally" ,"ground"],
      "flags": [ "NO_PROJECTILE","LOUD" ],
      "effect": "attack",
      "shape": "line",
      "spell_class": "NONE",
      "energy_source": "MANA",
      "difficulty": 7,
      "max_level": 1,
      "base_casting_time": 470,
      "base_energy_cost": 500,
      "final_energy_cost": 500,
      "min_damage": 10,
      "max_damage": 10,
      "damage_type": "cold",
      "field_id": "fd_PSY_magi_stunning_field",
      "min_field_intensity": 2,
      "max_field_intensity": 2,
      "min_range": 4,
      "max_range": 4,
      "range_increment": 1.0
    },

    {
      "id": "PSY_magi_create_stunning_field",
      "type": "SPELL",
      "name": "Create Stunning Field",
      "description": "Create a field of stunning in the area of the target point.",
      "valid_targets": [ "hostile", "ally" ,"ground"],
      "flags": [ "NO_PROJECTILE","LOUD" ],
      "effect": "attack",
      "shape": "blast",
      "spell_class": "NONE",
      "energy_source": "MANA",
      "difficulty": 7,
      "max_level": 1,
      "base_casting_time": 470,
      "base_energy_cost": 500,
      "final_energy_cost": 500,
      "min_aoe": 3,
      "max_aoe": 3,
      "min_damage": 10,
      "max_damage": 10,
      "damage_type": "cold",
      "field_id": "fd_PSY_magi_stunning_field",
      "min_field_intensity": 2,
      "max_field_intensity": 2,
      "min_range": 18,
      "max_range": 18,
      "range_increment": 1.0
    },

    {
      "id": "PSY_magi_create_death_field",
      "type": "SPELL",
      "name": "Create Death Field",
      "description": "Create a field of death in the area of the target point.",
      "valid_targets": [ "hostile", "ally" ,"ground"],
      "flags": [ "NO_PROJECTILE","LOUD" ],
      "effect": "attack",
      "shape": "blast",
      "spell_class": "NONE",
      "energy_source": "MANA",
      "difficulty": 7,
      "max_level": 1,
      "base_casting_time": 470,
      "base_energy_cost": 500,
      "final_energy_cost": 500,
      "min_aoe": 2,
      "max_aoe": 2,
      "min_damage": 200,
      "max_damage": 200,
      "damage_type": "cold",
      "field_id": "fd_PSY_magi_field_of_death",
      "min_field_intensity": 2,
      "max_field_intensity": 2,
      "min_range": 18,
      "max_range": 18,
      "range_increment": 1.0
    },

    {
      "id": "PSY_magi_create_darkness_field",
      "type": "SPELL",
      "name": "Create Darkness Field",
      "description": "Create a field of darkness in the area of the target point.",
      "valid_targets": [ "hostile", "ally" ,"ground"],
      "flags": [ "NO_PROJECTILE","LOUD" ],
      "effect": "attack",
      "shape": "blast",
      "spell_class": "NONE",
      "energy_source": "MANA",
      "difficulty": 8,
      "max_level": 1,
      "base_casting_time": 470,
      "base_energy_cost": 500,
      "final_energy_cost": 500,
      "min_aoe": 3,
      "max_aoe": 3,
      "min_damage": 10,
      "max_damage": 10,
      "damage_type": "cold",
      "field_id": "fd_PSY_magi_darkness_field",
      "min_field_intensity": 2,
      "max_field_intensity": 2,
      "min_range": 18,
      "max_range": 18,
      "range_increment": 1.0
    },

    {
      "id": "PSY_magi_create_bloody_cloud_field",
      "type": "SPELL",
      "name": "Create Bloody Cloud Field",
      "description": "Create a field of bloody cloud in the area of the target point.",
      "valid_targets": [ "hostile", "ally" ,"ground"],
      "flags": [ "NO_PROJECTILE","LOUD" ],
      "effect": "attack",
      "shape": "blast",
      "spell_class": "NONE",
      "energy_source": "MANA",
      "difficulty": 8,
      "max_level": 1,
      "base_casting_time": 470,
      "base_energy_cost": 500,
      "final_energy_cost": 500,
      "min_aoe": 3,
      "max_aoe": 3,
      "min_damage": 10,
      "max_damage": 10,
      "damage_type": "cold",
      "field_id": "fd_PSY_magi_bloody_cloud_field",
      "min_field_intensity": 2,
      "max_field_intensity": 2,
      "min_range": 18,
      "max_range": 18,
      "range_increment": 1.0
    },

    {
      "id": "PSY_magi_onigiri_recover_HP",
      "type": "SPELL",
      "name": "Onigiri heal",
      "description": "You recover some hp.",
      "valid_targets": [ "self" ],
      "min_damage": -10,
      "damage_increment": -2.0,
      "max_damage": -30,
      "max_level": 10,
      "effect": "attack",
      "shape": "blast",
      "spell_class": "NONE",
      "message": "You are full of energy after eating a grilled rice ball.",
      "energy_source": "MANA",
      "base_energy_cost": 0,
      "energy_increment": 0,
      "final_energy_cost": 0,
      "flags": [ "SILENT", "NO_LEGS" ],
      "difficulty": 3
    },

    {
      "id": "PSY_magi_honey_recover_HP",
      "type": "SPELL",
      "name": "Honey heal",
      "description": "The healing honey restores a small amount of HP to you.",
      "valid_targets": [ "self" ],
      "min_damage": -12,
      "damage_increment": -2.0,
      "max_damage": -30,
      "max_level": 10,
      "effect": "attack",
      "shape": "blast",
      "spell_class": "NONE",
      "message": "You drank melted sweet honey and your HP is restored.",
      "energy_source": "MANA",
      "base_energy_cost": 0,
      "energy_increment": 0,
      "final_energy_cost": 0,
      "flags": [ "SILENT", "NO_LEGS" ],
      "difficulty": 3
    },

    {
      "type": "SPELL",
      "id": "PSY_magi_item_spell_summon_insects",
      "name": "Summon insects",
      "description": "Summons a random insect.",
      "flags": ["SILENT", "NO_PROJECTILE","RANDOM_TARGET","SPAWN_GROUP" ],
      "valid_targets": [ "ground" ],
      "base_casting_time": 100,
      "max_level": 20,
      "min_damage": 1,
      "max_damage": 1,
      "min_range": 2,
      "max_range": 2,
      "min_duration": 2000,
      "max_duration": 6000,
      "duration_increment": 200,
      "message": "You summons insects!",
      "shape": "blast",
      "effect": "summon",
      "effect_str": "GROUP_PSY_magi_RND_INSECTS"
    },

    {
      "id": "PSY_magi_item_spell_big_room",
      "type": "SPELL",
      "name": "Scroll of the Big Room",
      "description": "Remove all walls from random dungeons.",
      "valid_targets": ["hostile", "ground" ,"self", "ground"],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 75,
      "max_aoe": 75,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "difficulty": 4,
      "max_level": 20,
      "base_casting_time": 300,
      "energy_source": "MANA",
      "shape": "blast",
      "effect": "ter_transform",
      "effect_str": "PSY_magi_remove_wall_form"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Light",
      "type": "SPELL",
      "name": "Scroll of Light",
      "description": "You'll be able to see through the entire terrain for a little while.",
      "valid_targets": ["hostile", "ally" , "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 75,
      "max_aoe": 75,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "difficulty": 4,
      "field_id": "fd_clairvoyant",
      "min_field_intensity": 1,
      "max_field_intensity": 1,
      "shape": "blast",
      "effect": "attack",
      "max_level": 20,
      "base_casting_time": 300,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Haste",
      "type": "SPELL",
      "name": "Scroll of Haste",
      "description": "A spell scroll that affects a wide area. Greatly increases the movement speed of all affected units.",
      "valid_targets": ["hostile", "ally" ,"self", "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 75,
      "max_aoe": 75,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "effect_str": "PSY_magi_haste_200",
      "difficulty": 4,
      "min_duration": 3000,
      "max_duration": 3000,
      "shape": "blast",
      "effect": "attack",
      "max_level": 20,
      "base_casting_time": 300,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Frighten",
      "type": "SPELL",
      "name": "Scroll of Frighten",
      "description": "A spell scroll that affects a slightly wide area. It terrorizes all affected enemy units for a short while.",
      "valid_targets": ["hostile", "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 15,
      "max_aoe": 15,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "spell_class": "NONE",
      "effect_str": "run",
      "difficulty": 4,
      "min_duration": 1000,
      "max_duration": 1000,
      "shape": "blast",
      "effect": "attack",
      "max_level": 20,
      "base_casting_time": 100,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_Freese",
      "type": "SPELL",
      "name": "Scroll of Freese",
      "description": "A spell scroll that affects a slightly wide area. It freezes all affected enemy units to unable to action for a short while.",
      "valid_targets": ["hostile", "ground" ],
      "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
      "min_range": 1,
      "max_range": 1,
      "range_increment": 1.0,
      "min_aoe": 15,
      "max_aoe": 15,
      "aoe_increment": 0.125,
      "base_energy_cost": 200,
      "effect": "mod_moves",
      "shape": "blast",
      "difficulty": 4,
      "min_damage": -800,
      "max_damage": -800,
      "max_level": 20,
      "base_casting_time": 100,
      "energy_source": "MANA"
    },

    {
      "id": "PSY_magi_item_spell_scroll_of_summon_base",
      "type": "SPELL",
      "name": "Scroll of Summoning",
      "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
      "valid_targets": ["hostile", "ground" ,"self", "ground"],
      "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
      "min_range": 1,
      "max_range": 1,
      "effect": "none",
      "base_energy_cost": 200,
      "shape": "blast",
      "difficulty": 4,
      "min_damage": 1,
      "max_damage": 1,
      "max_level": 20,
      "base_casting_time": 100,
      "energy_source": "MANA",
      "extra_effects": [
        { "id": "PSY_magi_item_spell_scroll_of_summon_sub_hostile" },
        { "id": "PSY_magi_item_spell_scroll_of_summon_sub_ally" }
      ]
    },

    {
      "type": "SPELL",
      "id": "PSY_magi_item_spell_scroll_of_summon_sub_hostile",
      "name": "Summon insects",
      "description": "Summons a random insect.",
      "flags": ["HOSTILE_SUMMON","SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP","SPAWN_WITH_DEATH_DROPS" ],
      "valid_targets": [ "ground" ],
      "base_casting_time": 100,
      "min_damage": 10,
      "max_damage": 10,
      "min_range": 2,
      "max_range": 2,
      "min_aoe": 10,
      "max_aoe": 10,
      "min_duration": 60000,
      "max_duration": 60000,
      "message": "You summon hostile monsters!",
      "shape": "blast",
      "effect": "summon",
      "effect_str": "GROUP_PSY_magi_RND_MONSTERS_ALL1"
    },

    {
      "type": "SPELL",
      "id": "PSY_magi_item_spell_scroll_of_summon_sub_ally",
      "name": "Summon insects",
      "description": "Summons a random insect.",
      "flags": ["SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP" ],
      "valid_targets": [ "ground" ],
      "base_casting_time": 100,
      "min_damage": 10,
      "max_damage": 10,
      "min_range": 2,
      "max_range": 2,
      "min_aoe": 10,
      "max_aoe": 10,
      "min_duration": 60000,
      "max_duration": 60000,
      "message": "You summon friendly monsters!",
      "shape": "blast",
      "effect": "summon",
      "effect_str": "GROUP_PSY_magi_RND_MONSTERS_ALL1"
    },

    {
      "id": "PSY_magi_spell_scroll_of_collect_item_base",
      "type": "SPELL",
      "name": "Vacuum Collect ",
      "description": "This is a scroll of collect items. When you read it, collect surrounding items in the target area.\n This effects ignore walls",
      "valid_targets": ["ground"],
      "flags": [ "WONDER","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
      "effect": "none",
      "shape": "blast",
      "max_level": 20,
      "spell_class": "NONE",
      "energy_source": "MANA",
      "base_energy_cost": 350,
      "energy_increment": -5.0,
      "final_energy_cost": 250,
      "min_damage": 100,
      "max_damage": 100,
      "damage_increment": 0.5,
      "min_range": 1,
      "max_range": 1,
      "min_aoe": 25,
      "max_aoe": 25,
      "aoe_increment": 0.5,
      "base_casting_time": 200,
      "final_casting_time": 100,
      "casting_time_increment": -5.0,
      "extra_effects": [
        { "id": "PSY_magi_spell_scroll_of_collect_item_sub"}
      ]
  },

  {
      "id": "PSY_magi_spell_scroll_of_collect_item_sub",
      "type": "SPELL",
      "name": "Vacuum sub",
      "description": "Distort space-time for a moment and collect surrounding items in the target tile.\n This effects ignore walls",
      "valid_targets": ["item","ground"],
      "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
      "effect": "area_pull",
      "shape": "blast",
      "spell_class": "NONE",
      "max_level": 20,
      "min_range": 1,
      "max_range": 1,
      "min_aoe": 25,
      "max_aoe": 25,
      "aoe_increment": 0.5,
      "base_casting_time": 100
  },

  {
    "id": "PSY_magi_spell_scroll_of_upgrade",
    "type": "SPELL",
    "name": { "str": "Scroll of Upgrade" },
    "description": "Upgrade upgradeable monsters in a large AOE",
    "valid_targets": [ "hostile", "ally" ],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "min_aoe": 20,
    "max_aoe": 20,
    "min_damage": 10000,
    "max_damage": 10000,
    "shape": "blast",
    "effect": "upgrade"
  },

  {
    "id": "PSY_magi_spell_wand_of_upgrade",
    "type": "SPELL",
    "name": { "str": "wand of upgrade" },
    "description": "Upgrade target upgradeable monster.",
    "valid_targets": [ "hostile", "ally" ],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "min_range": 10,
    "max_range": 10,
    "min_damage": 10000,
    "max_damage": 10000,
    "shape": "blast",
    "effect": "upgrade"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_scroll_of_monster_house",
    "name": "Scroll of Monster House",
    "description": "Scroll of Monster house.",
    "flags": ["PERMANENT","HOSTILE_SUMMON","SILENT", "NO_PROJECTILE","SPAWN_GROUP","SPAWN_WITH_DEATH_DROPS" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "min_damage": 50,
    "max_damage": 50,
    "min_aoe": 10,
    "max_aoe": 10,
    "min_duration": 600,
    "max_duration": 600,
    "message": "You call monsters!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_RND_MONSTERS_ALL1"
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base+2",
    "type": "SPELL",
    "name": "Call babble+2",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base+1",
    "type": "SPELL",
    "name": "Call babble+1",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base2",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base2+1",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_call_babble_base2+2",
    "type": "SPELL",
    "name": "Call babble",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_call_babble_sub" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" },
      { "id": "PSY_magi_item_spell_call_babble_sub_fakespell" }
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_call_babble_sub",
    "name": "Summon insects",
    "description": "Summons a random insect.",
    "flags": ["SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 5,
    "max_range": 5,
    "min_duration": 3000,
    "max_duration": 3000,
    "message": "You summon a babble!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_CALL_BABBLE"
  },

  {
    "id": "PSY_magi_item_spell_call_babble_sub_fakespell",
    "type": "SPELL",
    "name": { "str": "Fake Spell" },
    "description": "A spell that doesn't do anything.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "flags": [ "SILENT" ],
    "shape": "blast",
    "effect": "noise"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_call_babble_active",
    "name": "Call Babble",
    "description": "Call 4 of babbles.",
    "flags": ["SILENT", "NO_PROJECTILE","SPAWN_GROUP" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "max_level": 20,
    "min_damage": 2,
    "max_damage": 6,
    "damage_increment": 0.2,
    "min_aoe": 3,
    "max_aoe": 3,
    "min_duration": 3000,
    "max_duration": 3000,
    "message": "You summon babbles!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_CALL_BABBLE"
  },

  {
    "id": "PSY_magi_item_spell_healing_ally",
    "type": "SPELL",
    "name": "Healing ally",
    "description": "healing ally",
    "valid_targets": ["ally"],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "effect_str": "PSY_magi_weak_accelerating",
    "difficulty": 0,
    "base_casting_time": 80,
    "min_duration": 1000,
    "max_duration": 1000,
    "max_level": 20,
    "min_damage": -30,
    "max_damage": -50,
    "damage_increment": -1.0,
    "min_aoe": 10,
    "max_aoe": 10
  },

  {
    "id": "PSY_magi_item_spell_scroll_of_nothing",
    "type": "SPELL",
    "name": { "str": "Scroll of nothing written" },
    "description": "A spell that doesn't do anything.",
    "valid_targets": [ "hostile", "ally", "ground" ],
    "message": "You read blank!",
    "flags": [ "SILENT" ],
    "shape": "blast",
    "effect": "noise"
  },

  {
    "id": "PSY_magi_item_spell_Sword_of_No-Rayu",
    "type": "SPELL",
    "name": "REVIVE ZOMBIE",
    "description": "Reanimates the corpse of a zombie.",
    "valid_targets": ["ground"],
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 20,
    "max_range": 40,
    "range_increment": 1.0,
    "base_casting_time": 100,
    "effect": "revive",
    "effect_str": "ZOMBIE",
    "extra_effects": [
      { "id": "PSY_magi_spell_wand_of_resurrection_sub" }
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_Sword_of_No-Rayu_charm",
    "name": "Charm Zombie",
    "description": "Control a zombie under 100 MAX HP and change to our side for 1 h.",
    "valid_targets": [ "hostile","ground" ],
    "effect": "charm_monster",
    "message": "",
    "targeted_monster_species": [
      "ZOMBIE"
    ],
    "min_damage": 100,
    "max_damage": 100,
    "max_level": 20,
    "shape": "blast",
    "min_range": 20,
    "max_range": 20,
    "min_duration": 240000,
    "max_duration": 240000,
    "duration_increment": 20000,
    "flags": [ "NO_EXPLOSION_SFX","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ]
  },

  {
    "id": "PSY_magi_spell_wand_of_resurrection",
    "type": "SPELL",
    "name": "wand of resurrection",
    "description": "Reanimates the corpse of a resurrectable target.",
    "valid_targets": ["ground"],
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 20,
    "max_range": 40,
    "range_increment": 1.0,
    "base_casting_time": 100,
    "effect": "revive",
    "effect_str": "ZOMBIE",
    "extra_effects": [
      { "id": "PSY_magi_spell_wand_of_resurrection_sub" }
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_spell_wand_of_resurrection_sub",
    "name": "Mental cracking",
    "description": "Control an enemy under 180 MAX HP and change to our side for short of period.",
    "valid_targets": [ "hostile","ground" ],
    "effect": "charm_monster",
    "message": "",
    "min_damage": 9000,
    "max_damage": 9000,
    "max_level": 20,
    "shape": "blast",
    "min_range": 20,
    "max_range": 20,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "duration_increment": 20000,
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "extra_effects": [
      { "id": "PSY_magi_spell_wand_of_resurrection_sub_healing" }
    ]
  },

  {
    "id": "PSY_magi_spell_wand_of_resurrection_sub_healing",
    "type": "SPELL",
    "name": "Healing ally",
    "description": "healing ally.",
    "valid_targets": ["ally","ground"],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "min_duration": 1000,
    "max_duration": 1000,
    "min_damage": -5000,
    "max_damage": -5000,
    "max_level": 0,
    "min_range": 20,
    "max_range": 20
  },

  {
    "id": "PSY_magi_spell_wand_of_pulling",
    "type": "SPELL",
    "name": "wand of pulling",
    "description": "Attempts to pull the target towards the caster in a straight line.",
    "valid_targets": ["hostile","ally"],
    "flags": [ "NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 10,
    "max_range": 30,
    "range_increment": 1.0,
    "base_casting_time": 100,
    "effect": "pull_target"
  },

  {
    "id": "PSY_magi_spell_wand_of_dashing",
    "type": "SPELL",
    "name": "wand of dashing",
    "description": "shoots a magic bullet at the target and causes the caster to move to it in a straight line.",
    "valid_targets": ["hostile","ally"],
    "flags": [ "NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 10,
    "max_range": 20,
    "range_increment": 0.5,
    "base_casting_time": 100,
    "effect": "dash"
  },

  {
    "id": "PSY_magi_spell_wand_of_swapping",
    "type": "SPELL",
    "name": "wand of swapping",
    "description": "shoots a magic bullet at the target and swaps you and target positions in a long distance,   also slow target movement for a short of period.",
    "valid_targets": [ "hostile","ally" ],
    "flags": ["SWAP_POS","NO_LEGS" ],
    "effect": "attack",
    "effect_str": "PSY_magi_slow",
    "shape": "blast",
    "spell_class": "NONE",
    "base_casting_time": 100,
    "final_casting_time": 100,
    "max_level": 20,
    "min_range": 10,
    "max_range": 30,
    "range_increment": 1.0,
    "min_duration": 1000,
    "max_duration": 2000,
    "duration_increment": 50
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_summon_pawns",
    "name": "Summon chess of pawns",
    "description": "Summons 2(+ 2*enhancement value) chess of pawns to the target location.",
    "flags": ["SILENT", "NO_PROJECTILE" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "max_level": 20,
    "min_damage": 2,
    "max_damage": 6,
    "damage_increment": 0.2,
    "min_range": 10,
    "max_range": 20,
    "range_increment": 0.5,
    "min_aoe": 3,
    "max_aoe": 5,
    "aoe_increment": 0.1,
    "min_duration": 6000,
    "max_duration": 12000,
    "duration_increment": 300,
    "message": "You summon pawns!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "PSY_magi_rnd_mon_chess_pawn"
  },

  {
    "id": "PSY_magi_spell_bird_knife_attack_tempo",
    "type": "SPELL",
    "name": "Attack Tempo",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["NO_EXPLOSION_SFX","WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 10,
    "max_range": 10,
    "effect": "none",
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "extra_effects": [
      { "id": "PSY_magi_spell_bird_knife_attack_tempo_sub", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_spell_bird_knife_attack_tempo_sub",
    "type": "SPELL",
    "name": "Attack Tempo",
    "description": "force fear.",
    "valid_targets": [ "self","hostile","ally" ],
    "flags": ["NO_EXPLOSION_SFX", "NO_PROJECTILE","NO_LEGS" ],
    "effect": "attack",
    "effect_str": "PSY_magi_bird_attack_tempo",
    "shape": "blast",
    "spell_class": "NONE",
    "difficulty": 0,
    "base_casting_time": 100,
    "max_level": 0,
    "min_duration": 500,
    "max_duration": 500
  },

  {
    "id": "PSY_magi_item_spell_shield_magic_missile_random_base",
    "type": "SPELL",
    "name": "Random Missile",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_shield_magic_missile_random" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_shield_magic_missile_base",
    "type": "SPELL",
    "name": "Random Missile",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_shield_magic_missile_sub" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_shield_magic_missile_sub",
    "type": "SPELL",
    "name": "Magic Missile",
    "description": "I cast Magic Missile at the darkness!",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT", "NO_PROJECTILE" ],
    "min_damage": 10,
    "damage_increment": 1.5,
    "damage_type": "pure",
    "max_damage": 10,
    "min_range": 8,
    "range_increment": 0.8,
    "max_range": 20,
    "base_energy_cost": 50,
    "spell_class": "MAGUS",
    "difficulty": 1,
    "max_level": 15,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "attack"
  },

  {
    "id": "PSY_magi_item_spell_shield_magic_missile_random",
    "type": "SPELL",
    "name": "Magic Missile",
    "description": "I cast Magic Missile at the darkness!",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT", "NO_PROJECTILE","RANDOM_TARGET" ],
    "min_damage": 5,
    "damage_increment": 1.5,
    "damage_type": "pure",
    "max_damage": 20,
    "min_range": 8,
    "range_increment": 0.8,
    "max_range": 20,
    "base_energy_cost": 50,
    "spell_class": "MAGUS",
    "difficulty": 1,
    "max_level": 15,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "attack"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_call_babble_sub2222",
    "name": "Summon insects",
    "description": "Summons a random insect.",
    "flags": ["SILENT", "NO_PROJECTILE","RANDOM_DURATION","RANDOM_TARGET","SPAWN_GROUP" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 5,
    "max_range": 5,
    "min_duration": 3000,
    "max_duration": 3000,
    "message": "You summon a babble!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_CALL_BABBLE"
  },

  {
    "id": "PSY_magi_item_spell_sword_of_thirteenth_needle",
    "type": "SPELL",
    "name": "Starlight Confusion",
    "description": "You blast a cone of dizzling light toward the target.",
    "effect": "attack",
    "shape": "cone",
    "valid_targets": [ "hostile","ground","ally"],
    "flags": ["NO_LEGS", "NO_HANDS","RANDOM_DAMAGE"],
    "max_level": 20,
    "min_damage": 10,
    "max_damage": 20,
    "min_aoe": 10,
    "max_aoe": 10,
    "min_range": 2,
    "max_range": 2,
    "range_increment": 1.0,
    "base_casting_time": 200,
    "field_id": "fd_blood",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "damage_type": "cut"
  },

  {
    "id": "PSY_magi_item_spell_sword_of_thirteenth_needle_main",
    "type": "SPELL",
    "name": "Starlight Confusion",
    "description": "You blast a cone of dizzling light toward the target.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "hostile","ground","ally"],
    "flags": ["NO_LEGS", "NO_HANDS","RANDOM_DAMAGE"],
    "max_level": 20,
    "min_damage": 100,
    "max_damage": 200,
    "damage_increment": 5,
    "min_aoe": 10,
    "max_aoe": 10,
    "base_casting_time": 200,
    "field_id": "fd_blood",
    "min_field_intensity": 3,
    "max_field_intensity": 3,
    "damage_type": "cut"
  },

  {
    "id": "PSY_magi_item_spell_sword_of_starlight",
    "type": "SPELL",
    "name": "Starlight Confusion",
    "description": "You blast a cone of dizzling light toward the target.",
    "effect": "attack",
    "shape": "cone",
    "valid_targets": [ "hostile","ground","ally"],
    "flags": ["NO_LEGS", "NO_HANDS","RANDOM_DAMAGE"],
    "max_level": 20,
    "min_damage": 5,
    "max_damage": 8,
    "min_aoe": 30,
    "max_aoe": 30,
    "min_range": 3,
    "max_range": 3,
    "range_increment": 1.0,
    "base_casting_time": 200,
    "field_id": "fd_dazzling",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "damage_type": "cut"
  },

  {
    "id": "PSY_magi_item_spell_sword_of_reincarnation",
    "type": "SPELL",
    "name": "reincarnation",
    "description": "Transform target enemy into random monster.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_sword_of_reincarnation_sub" }
    ]
  },



  {
    "id": "PSY_magi_item_spell_sword_of_reincarnation_sub",
    "type": "SPELL",
    "name": "Random Polymorph",
    "description": "Transform target enemy into random monster.",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "NO_PROJECTILE","POLYMORPH_GROUP","FRIENDLY_POLY" ],
    "effect": "targeted_polymorph",
    "effect_str": "GROUP_PSY_magi_REINCARNATION",
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "base_casting_time": 250,
    "casting_time_increment": -5.0,
    "final_casting_time": 150,
    "base_energy_cost": 250,
    "energy_increment": -5,
    "final_energy_cost": 150,
    "difficulty": 6,
    "max_level": 20,
    "min_damage": 50,
    "max_damage": 50,
    "damage_increment": 10,
    "damage_type": "pure",
    "min_range": 5,
    "max_range": 30,
    "range_increment": 1.5
  },

  {
    "id": "PSY_magi_item_spell_sword_of_Termination_Waste_cone",
    "type": "SPELL",
    "name": "Breath of Fear",
    "description": "You blast a cone of Fear toward the target.",
    "valid_targets": [ "hostile", "ally" ,"ground"],
    "flags": [ "NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "effect_str": "run",
    "min_duration": 1500,
    "max_duration": 1500,
    "min_aoe": 60,
    "max_aoe": 60,
    "shape": "cone",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 8,
    "max_level": 1,
    "base_casting_time": 470,
    "base_energy_cost": 500,
    "final_energy_cost": 500,
    "min_damage": 50,
    "max_damage": 50,
    "damage_type": "pure",
    "field_id": "fd_PSY_magi_field_of_fear",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "min_range": 12,
    "max_range": 12,
    "range_increment": 1.0
  },

  {
    "id": "PSY_magi_item_spell_sword_of_Termination_Waste",
    "type": "SPELL",
    "name": "Force Fear",
    "description": "Create a field of fear in the area of the target point.",
    "valid_targets": [ "hostile", "ally" ,"ground"],
    "flags": [ "NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "effect_str": "run",
    "min_duration": 300,
    "max_duration": 300,
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 8,
    "max_level": 1,
    "base_casting_time": 470,
    "base_energy_cost": 500,
    "final_energy_cost": 500,
    "min_damage": 10,
    "max_damage": 10,
    "damage_type": "pure",
    "field_id": "fd_PSY_magi_field_of_fear",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "min_range": 18,
    "max_range": 18,
    "range_increment": 1.0
  },

  {
    "id": "PSY_magi_item_spell_transform_hidden_world",
    "type": "SPELL",
    "name": "Hidden World",
    "description": "Mutates the surrounding terrain.",
    "valid_targets": [ "ground" ],
    "flags": [ "NO_EXPLOSION_SFX", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
    "min_range": 1,
    "max_range": 1,
    "range_increment": 1.0,
    "min_aoe": 50,
    "max_aoe": 50,
    "aoe_increment": 0.125,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "difficulty": 4,
    "max_level": 20,
    "base_casting_time": 300,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "ter_transform",
    "effect_str": "PSY_magi_transform_hidden_world",
    "extra_effects": [
      { "id": "PSY_magi_conj_res_aura_invincible" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_sword_of_limpid_filth_base",
    "type": "SPELL",
    "name": "Limpid filth",
    "description": "Create a field of vomit in the area of the target point.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_sword_of_limpid_filth" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_sword_of_limpid_filth",
    "type": "SPELL",
    "name": "Limpid filth",
    "description": "Create a field of vomit in the area of the target point.",
    "valid_targets": [ "hostile", "ally" ,"ground"],
    "flags": [ "NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "effect_str": "blind",
    "min_duration": 200,
    "max_duration": 200,
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 8,
    "max_level": 1,
    "base_casting_time": 470,
    "base_energy_cost": 500,
    "final_energy_cost": 500,
    "min_damage": 3,
    "max_damage": 3,
    "damage_type": "biological",
    "field_id": "fd_bile",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "min_range": 2,
    "max_range": 2,
    "range_increment": 1.0
  },



  {
    "id": "PSY_magi_item_spell_sword_of_limpid_filth_blast",
    "type": "SPELL",
    "name": "Limpid filth",
    "description": "Create a field of vomit in the area of the target point.",
    "valid_targets": [ "hostile", "ally" ,"ground"],
    "flags": [ "NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "effect_str": "blind",
    "min_duration": 1200,
    "max_duration": 1200,
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 8,
    "max_level": 1,
    "base_casting_time": 470,
    "base_energy_cost": 500,
    "final_energy_cost": 500,
    "min_damage": 33,
    "max_damage": 33,
    "damage_type": "biological",
    "field_id": "fd_bile",
    "min_field_intensity": 2,
    "max_field_intensity": 2
  },

  {
    "id": "PSY_magi_item_spell_sword_of_futile_wishes_base",
    "type": "SPELL",
    "name": "futile wishes",
    "description": "heal your enemy and haste it.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_sword_of_futile_wishes" }
    ]
  },

  {
    "id": "PSY_magi_item_spell_sword_of_futile_wishes",
    "type": "SPELL",
    "name": "futile wishes",
    "description": "heal your enemy and haste it",
    "valid_targets": [ "hostile"],
    "flags": [ "NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "effect_str": "PSY_magi_futile_wishes_attack_tempo",
    "min_duration": 1000,
    "max_duration": 1000,
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 8,
    "max_level": 1,
    "base_casting_time": 470,
    "base_energy_cost": 500,
    "final_energy_cost": 500,
    "min_damage": -50,
    "max_damage": -50,
    "damage_type": "pure",
    "min_range": 2,
    "max_range": 2,
    "range_increment": 1.0
  },

  {
    "id": "PSY_magi_item_spell_shield_magic_missile_self_attack_base",
    "type": "SPELL",
    "name": "3 damage",
    "description": "All attacks you receive will do 3 damage.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_shield_magic_missile_self_attack_sub" , "hit_self": true}
    ]
  },

  {
    "id": "PSY_magi_item_spell_shield_magic_missile_self_attack_sub",
    "type": "SPELL",
    "name": "3 damage",
    "description": "I cast Magic Missile at the darkness!",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT", "NO_PROJECTILE" ],
    "min_damage": 3,
    "damage_increment": 1.5,
    "damage_type": "pure",
    "max_damage": 3,
    "min_range": 8,
    "range_increment": 0.8,
    "max_range": 20,
    "base_energy_cost": 50,
    "spell_class": "MAGUS",
    "difficulty": 1,
    "max_level": 15,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "attack"
  },

  {
    "id": "PSY_magi_item_spell_shield_Noble_luminous_base",
    "type": "SPELL",
    "name": "Noble and luminous",
    "description": "All attacks you receive will do 3 damage.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 1,
    "max_range": 1,
    "effect": "none",
    "base_energy_cost": 200,
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_shield_Noble_luminous" }
    ]
  },


  {
    "id": "PSY_magi_item_spell_shield_Noble_luminous",
    "type": "SPELL",
    "name": "Noble and luminous",
    "description": "You blast a cone of dizzling light toward the target.",
    "effect": "attack",
    "shape": "cone",
    "valid_targets": [ "hostile","ground","ally"],
    "flags": ["NO_LEGS", "NO_HANDS","RANDOM_DAMAGE"],
    "max_level": 20,
    "min_damage": 1,
    "max_damage": 1,
    "min_aoe": 15,
    "max_aoe": 15,
    "min_range": 2,
    "max_range": 2,
    "range_increment": 1.0,
    "base_casting_time": 200,
    "field_id": "fd_dazzling",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "damage_type": "pure"
  },

  {
    "id": "PSY_magi_item_spell_shield_Noble_luminous_blast",
    "type": "SPELL",
    "name": "Noble and luminous",
    "description": "Shines a dazzling light on the enemy.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "hostile","ground","ally"],
    "flags": ["NO_LEGS", "NO_HANDS","RANDOM_DAMAGE"],
    "max_level": 20,
    "min_damage": 8,
    "max_damage": 8,
    "min_aoe": 6,
    "max_aoe": 6,
    "base_casting_time": 200,
    "field_id": "fd_dazzling",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "damage_type": "pure"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_summon_element",
    "name": "Summon Element",
    "description": "Summons a random element from among the four elements.",
    "flags": ["SILENT", "NO_PROJECTILE","RANDOM_TARGET","SPAWN_GROUP" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "max_level": 20,
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 2,
    "max_range": 2,
    "min_duration": 360000,
    "max_duration": 360000,
    "duration_increment": 200,
    "message": "You summon element!",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_FOUR_ELEMENT"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_summon_blade_of_air",
    "name": "Blade of Air",
    "description": "Summons compressed, sharp air that slices the target",
    "flags": ["NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE","RANDOM_TARGET" ],
    "valid_targets": [ "ground" ],
    "base_casting_time": 100,
    "max_level": 20,
    "min_damage": 1,
    "max_damage": 1,
    "min_aoe": 2,
    "max_aoe": 2,
    "min_duration": 1200,
    "max_duration": 1200,
    "duration_increment": 200,
    "message": "",
    "shape": "blast",
    "effect": "summon",
    "effect_str": "PSY_magi_mon_air_blade"
  },

  {
    "id": "PSY_magi_penetrating_thrust_base",
    "type": "SPELL",
    "name": "penetrating thrust",
    "description": "Moves instantly to the target point, piercing and damaging enemies in its path.",
    "valid_targets": ["ground"],
    "flags": [ "NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "shape": "line",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 4,
    "max_level": 20,
    "base_casting_time": 170,
    "base_energy_cost": 300,
    "final_energy_cost": 300,
    "min_damage": 40,
    "max_damage": 80,
    "damage_type": "pure",
    "min_range": 6,
    "max_range": 12,
    "range_increment": 1.0,
    "extra_effects": [
      { "id": "PSY_magi_penetrating_thrust_line" }
    ]
  },

  {
    "id": "PSY_magi_penetrating_thrust_line",
    "type": "SPELL",
    "name": "penetrating thrust",
    "description": "Moves instantly to the target point, piercing and damaging enemies in its path.",
    "valid_targets": [ "hostile", "ally" ,"ground"],
    "flags": [ "NO_PROJECTILE","LOUD","IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "line",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 7,
    "max_level": 20,
    "base_casting_time": 170,
    "base_energy_cost": 300,
    "final_energy_cost": 300,
    "min_damage": 40,
    "max_damage": 80,
    "damage_type": "pure",
    "field_id": "fd_PSY_magi_field_of_slash_effect",
    "min_field_intensity": 2,
    "max_field_intensity": 2,
    "min_range": 6,
    "max_range": 12,
    "range_increment": 1.0,
    "extra_effects": [
      { "id": "PSY_magi_penetrating_thrust_dimension_door" }
    ]
  },

  {
    "id": "PSY_magi_penetrating_thrust_dimension_door",
    "type": "SPELL",
    "name": "penetrating thrust",
    "description": "Moves instantly to the target point, piercing and damaging enemies in its path.",
    "effect": "short_range_teleport",
    "shape": "blast",
    "valid_targets": [ "ground" ],
    "flags": [ "SOMATIC", "SILENT", "NO_LEGS", "TARGET_TELEPORT" ],
    "min_range": 20,
    "max_range": 20,
    "range_increment": 1,
    "max_level": 30,
    "difficulty": 5,
    "base_casting_time": 10,
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "energy_increment": -10,
    "final_energy_cost": 350
  },

  {
    "id": "PSY_magi_spell_thrust_dagger_mana",
    "type": "SPELL",
    "name": "Mana Heal",
    "description": "This is a scroll of summoning. When you read it, it will summon many dungeon creatures around you for 10 minutes, either enemies or allies.",
    "valid_targets": ["hostile", "ground" ,"self", "ground"],
    "flags": ["NO_EXPLOSION_SFX","WONDER", "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET"],
    "min_range": 10,
    "max_range": 10,
    "effect": "none",
    "shape": "blast",
    "difficulty": 4,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "base_casting_time": 100,
    "extra_effects": [
      { "id": "PSY_magi_spell_thrust_dagger_mana_sub", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_spell_thrust_dagger_mana_sub",
    "type": "SPELL",
    "name": "Mana Heal",
    "description": "force fear.",
    "valid_targets": [ "self" ],
    "flags": ["SILENT","NO_EXPLOSION_SFX", "NO_PROJECTILE","NO_LEGS" ],
    "effect": "recover_energy",
    "effect_str": "MANA",
    "shape": "blast",
    "spell_class": "NONE",
    "min_damage": 5,
    "damage_increment": 0.1,
    "max_damage": 7,
    "difficulty": 0,
    "base_casting_time": 100,
    "max_level": 20
  },

  {
    "id": "PSY_light_healing",
    "type": "SPELL",
    "name": "Cure Light Wounds",
    "description": "Heals a little bit of damage on the target.",
    "valid_targets": [ "self", "ally" ],
    "min_damage": -1,
    "max_damage": -21,
    "damage_increment": -1.0,
    "max_level": 20,
    "min_range": 0,
    "max_range": 4,
    "range_increment": 0.75,
    "effect": "attack",
    "shape": "blast",
    "base_casting_time": 300,
    "base_energy_cost": 800,
    "flags": [ "NO_EXPLOSION_SFX","SOMATIC", "VERBAL", "NO_PROJECTILE" ],
    "spell_class": "NONE",
    "difficulty": 2,
    "energy_source": "MANA"
  },

  {
    "id": "PSY_light_healing_mana",
    "type": "SPELL",
    "name": "Mana Heal",
    "description": "force fear.",
    "valid_targets": [ "self" ],
    "flags": ["SILENT","NO_EXPLOSION_SFX", "NO_PROJECTILE","NO_LEGS" ],
    "effect": "recover_energy",
    "effect_str": "MANA",
    "shape": "blast",
    "spell_class": "NONE",
    "min_damage": 100,
    "damage_increment": 10,
    "max_damage": 100,
    "difficulty": 0,
    "base_casting_time": 100,
    "max_level": 20
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_random_charm",
    "name": "Charm",
    "description": "Control a monster under 30 MAX HP and change to our side for 2 seconds.",
    "valid_targets": [ "hostile","ground" ],
    "effect": "charm_monster",
    "message": "",
    "min_damage": 30,
    "max_damage": 30,
    "max_level": 20,
    "shape": "blast",
    "min_range": 20,
    "max_range": 20,
    "min_duration": 500,
    "max_duration": 1000,
    "duration_increment": 100,
    "flags": [ "NO_EXPLOSION_SFX","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ,"RANDOM_DAMAGE"]
  },

  {
    "id": "PSY_magi_item_spell_Tangled_vine_whip",
    "type": "SPELL",
    "name": "Tangled vine sub",
    "description": "Conjure Crawling magical vines up to the target location, then flourish many tangled vines after reaching there.\n Monsters who steps on the vine will move slower.",
    "valid_targets": [ "hostile", "ally" ,"ground"],
    "flags": [ "NO_PROJECTILE","NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "biological",
    "spell_class": "NONE",
    "field_id": "fd_PSY_magi_tangled_vine",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "max_level": 20,
    "min_damage": 1,
    "max_damage": 1,
    "damage_increment": 2.0,
    "min_range": 18,
    "max_range": 18,
    "base_casting_time": 100
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_blitzkrieg_base",
    "name": "blitzkrieg",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["hostile","self"],
    "effect": "none",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 100,
    "flags": ["NO_EXPLOSION_SFX","WONDER","NO_LEGS", "NO_HANDS","IGNORE_WALLS","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_range": 10,
    "max_range": 10,
    "message": "",
    "extra_effects": [
      { "id": "PSY_magic_item_spell_blitzkrieg_line" }
    ]
  },

  {
    "id": "PSY_magic_item_spell_blitzkrieg_line",
    "type": "SPELL",
    "name": "blitzkrieg",
    "description": "A magic that attacks enemies in a range of 10 squares around it while moving randomly for a certain period of time. Each attack can inflict 100 bash damage.",
    "effect": "attack",
    "shape": "line",
    "valid_targets": [ "hostile"],
    "flags": ["RANDOM_TARGET","NO_LEGS", "NO_HANDS","RANDOM_DAMAGE"],
    "max_level": 20,
    "min_damage": 50,
    "max_damage": 50,
    "min_range": 10,
    "max_range": 10,
    "range_increment": 1.0,
    "base_casting_time": 200,
    "field_id": "PSY_fd_blitzkrieg",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "damage_type": "bash",
    "extra_effects": [
      { "id": "PSY_magic_item_spell_blitzkrieg_line2"},
      { "id": "PSY_magi_item_spell_blitzkrieg_teleport"}
    ]
  },

  {
    "id": "PSY_magic_item_spell_blitzkrieg_line2",
    "type": "SPELL",
    "name": "blitzkrieg",
    "description": "The goto spell for many Stormshapers, this iconic spell does just what you expect: you shoot lightning from your fingertips.  However, this lightning is more directed than most lightning, and travels in a line through most non-solid targets.",
    "effect": "attack",
    "shape": "line",
    "valid_targets": [ "ground","hostile"],
    "flags": ["NO_LEGS", "NO_HANDS","RANDOM_DAMAGE"],
    "max_level": 20,
    "min_damage": 50,
    "max_damage": 50,
    "min_range": 10,
    "max_range": 10,
    "range_increment": 1.0,
    "base_casting_time": 200,
    "field_id": "PSY_fd_blitzkrieg",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "damage_type": "pure",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_blitzkrieg_teleport"}
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_blitzkrieg_teleport",
    "name": { "str": "blitzkrieg" },
    "description": "A magic that attacks enemies in a range of 10 squares around it while moving randomly for a certain period of time. Each attack can inflict 100 bash damage.",
    "effect": "short_range_teleport",
    "shape": "blast",
    "valid_targets": [ "ground" ],
    "flags": ["NO_EXPLOSION_SFX", "SOMATIC", "SILENT", "NO_LEGS", "TARGET_TELEPORT" ],
    "min_aoe": 2,
    "max_aoe": 2,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_search_stairway",
    "type": "SPELL",
    "name": "Search Stairway",
    "description": "This magic is to find the stairs within the range 50 tiles.This allows you to see the stairway through wall cyclically. It is not possible to find some stairs or if they are broken.",
    "valid_targets": ["hostile", "ground" ,"self", "ally"],
    "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"RANDOM_TARGET","IGNORE_WALLS"],
    "min_range": 1,
    "max_range": 1,
    "range_increment": 1.0,
    "min_aoe": 50,
    "max_aoe": 50,
    "aoe_increment": 0.125,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "difficulty": 4,
    "max_level": 20,
    "base_casting_time": 300,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "ter_transform",
    "effect_str": "PSY_magi_found_stairs_form"
  },

  {
    "id": "PSY_magi_item_spell_search_items",
    "type": "SPELL",
    "name": "Search Items",
    "description": "You'll be able to see through the entire terrain for a little while.",
    "valid_targets": ["self", "item" ],
    "flags": [ "SOMATIC", "LOUD", "NO_PROJECTILE" ,"IGNORE_WALLS"],
    "range_increment": 1.0,
    "min_aoe": 50,
    "max_aoe": 50,
    "aoe_increment": 0.125,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "difficulty": 4,
    "field_id": "fd_clairvoyant",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "shape": "blast",
    "effect": "attack",
    "max_level": 20,
    "base_casting_time": 300,
    "energy_source": "MANA"
  },

  {
    "id": "PSY_teleport_to_statue",
    "type": "SPELL",
    "name": "Escape Spell",
    "description": "It is a magic to escape from the dungeon.It teleports you to the last stone statue you touched.",
    "valid_targets": [ "self" ],
    "spell_class": "NONE",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_LEGS", "NO_HANDS", "VERBAL" ],
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "duration_increment": 1,
    "effect": "effect_on_condition",
    "effect_str": "EOC_PSY_teleport_to_stone",
    "shape": "blast",
    "energy_source": "NONE",
    "base_energy_cost": 0,
    "final_energy_cost": 0,
    "base_casting_time": 6000,
    "final_casting_time": 6000
  },

  {
    "id": "PSY_teleport_up",
    "type": "SPELL",
    "name": "Teleport Up",
    "description": "",
    "valid_targets": [ "self" ],
    "spell_class": "NONE",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_LEGS", "NO_HANDS", "VERBAL" ],
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "duration_increment": 1,
    "effect": "effect_on_condition",
    "effect_str": "EOC_PSY_TELEPORT_TEST",
    "shape": "blast",
    "energy_source": "NONE",
    "base_energy_cost": 0,
    "final_energy_cost": 0,
    "base_casting_time": 6000,
    "final_casting_time": 6000
  },

  {
    "id": "PSY_biolum_magic",
    "type": "SPELL",
    "name": "BIOLUM",
    "description": "",
    "valid_targets": [ "self" ],
    "spell_class": "NONE",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_LEGS", "NO_HANDS", "VERBAL" ],
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "duration_increment": 1,
    "effect": "effect_on_condition",
    "effect_str": "EOC_CANCEL_PORTAL_STORM",
    "shape": "blast",
    "energy_source": "NONE",
    "base_energy_cost": 0,
    "final_energy_cost": 0,
    "base_casting_time": 6000,
    "final_casting_time": 6000
  },

  {
    "id": "PSY_portal_storm_caller",
    "type": "SPELL",
    "name": "Portal Storm Caller",
    "description": "magic that generates portal storms. There is no need to use it at all.",
    "valid_targets": [ "self" ],
    "spell_class": "NONE",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_LEGS", "NO_HANDS", "VERBAL" ],
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "duration_increment": 1,
    "effect": "effect_on_condition",
    "effect_str": "EOC_CAUSE_PORTAL_STORM",
    "shape": "blast",
    "energy_source": "NONE",
    "base_energy_cost": 0,
    "final_energy_cost": 0,
    "base_casting_time": 6000,
    "final_casting_time": 6000
  },

  {
    "id": "PSY_portal_storm_dungeon_caller",
    "type": "SPELL",
    "name": "Portal Storm Caller2",
    "description": "magic that generates portal storms. There is no need to use it at all.",
    "valid_targets": [ "self" ],
    "spell_class": "NONE",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_LEGS", "NO_HANDS", "VERBAL" ],
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "duration_increment": 1,
    "effect": "effect_on_condition",
    "effect_str": "EOC_PORTAL_STORM_MAPGEN",
    "shape": "blast",
    "energy_source": "NONE",
    "base_energy_cost": 0,
    "final_energy_cost": 0,
    "base_casting_time": 6000,
    "final_casting_time": 6000
  },

  {
    "id": "PSY_anomaly_monster_caller",
    "type": "SPELL",
    "name": "Monster of Anomaly Caller2",
    "description": "magic that create weird monster. There is no need to use it at all.",
    "valid_targets": [ "self" ],
    "spell_class": "NONE",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_LEGS", "NO_HANDS", "VERBAL" ],
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "duration_increment": 1,
    "effect": "effect_on_condition",
    "effect_str": "PSY_EOC_PORTAL_STORM_DUNGEON_REFLECTION_SPAWN",
    "shape": "blast",
    "energy_source": "NONE",
    "base_energy_cost": 0,
    "final_energy_cost": 0,
    "base_casting_time": 6000,
    "final_casting_time": 6000
  },

  {
    "id": "PSY_magi_item_spell_freeze_water",
    "type": "SPELL",
    "name": "Freezing Honey Syrup",
    "description": "This magic releases an aura that freezes the surface of the water in 3 surrounding tiles.",
    "valid_targets": ["hostile", "ground" ,"self","ally"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_HANDS","NO_EXPLOSION_SFX", "NO_PROJECTILE" ,"IGNORE_WALLS"],
    "range_increment": 1.0,
    "min_aoe": 3,
    "max_aoe": 3,
    "aoe_increment": 0.125,
    "base_energy_cost": 0,
    "spell_class": "NONE",
    "difficulty": 4,
    "max_level": 0,
    "base_casting_time": 10,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "ter_transform",
    "effect_str": "PSY_magi_freeze_water_form"
  },

  {
    "id": "PSY_magi_item_spell_summon_mutant_bee_hostile",
    "type": "SPELL",
    "name": "Attracting Honey Syrup",
    "description": "Magic that Summons many hostile mutant bees a little far from you.",
    "valid_targets": [ "self" ],
    "spell_class": "NONE",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_LEGS", "NO_HANDS", "VERBAL" ],
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "duration_increment": 1,
    "effect": "effect_on_condition",
    "effect_str": "PSY_EOC_summon_mutant_bee_hostile",
    "shape": "blast",
    "energy_source": "NONE",
    "base_energy_cost": 0,
    "final_energy_cost": 0,
    "base_casting_time": 6000,
    "final_casting_time": 6000
  },

  {
    "id": "PSY_magi_item_spell_flower_gardening",
    "type": "SPELL",
    "name": "Flower Gardening Honey Syrup",
    "description": "magic that makes the surrounding ground bloom.",
    "valid_targets": ["hostile","self", "ground","ally"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_HANDS","NO_EXPLOSION_SFX", "NO_PROJECTILE" ],
    "range_increment": 1.0,
    "min_aoe": 12,
    "max_aoe": 12,
    "aoe_increment": 0.125,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "difficulty": 4,
    "max_level": 20,
    "base_casting_time": 300,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "ter_transform",
    "effect_str": "PSY_magi_flower_garden_transform"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_spell_charm_honey_syrup",
    "name": "Charming Aura",
    "description": "You continue to emit an aura that temporarily joins monsters with less than 80 HP around you.",
    "valid_targets": [ "ground","hostile" ],
    "effect": "charm_monster",
    "message": "",
    "min_damage": 80,
    "max_damage": 80,
    "max_level": 0,
    "shape": "blast",
    "min_aoe": 3,
    "max_aoe": 3,
    "min_duration": 300,
    "max_duration": 300,
    "flags": ["NO_EXPLOSION_SFX","NO_PROJECTILE","NO_LEGS" ],
    "extra_effects": [
      { "id": "PSY_magi_spell_charm_honey_syrup_sub"}
    ]
  },

  {
    "id": "PSY_magi_spell_charm_honey_syrup_sub",
    "type": "SPELL",
    "name": "Charming Aura",
    "description": "You continue to emit an aura that temporarily joins monsters with less than 100 HP around you.",
    "valid_targets": ["hostile", "ally" , "ground" ],
    "flags": ["NO_EXPLOSION_SFX","NO_PROJECTILE","NO_LEGS" ],
    "min_aoe": 3,
    "max_aoe": 3,
    "spell_class": "NONE",
    "difficulty": 4,
    "field_id": "PSY_fd_charming_heart",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 0,
    "energy_source": "MANA"
  },

  {
    "id": "PSY_magi_item_spell_honey_treasure_hunt",
    "type": "SPELL",
    "name": "Treasure Hunt",
    "description": "Come on!Let's get the treasure!",
    "valid_targets": [ "self" ],
    "spell_class": "NONE",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_LEGS", "NO_HANDS", "VERBAL" ],
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "duration_increment": 1,
    "effect": "effect_on_condition",
    "effect_str": "PSY_EOC_TREASURE_MAPGEN",
    "shape": "blast",
    "energy_source": "NONE",
    "base_energy_cost": 0,
    "final_energy_cost": 0,
    "base_casting_time": 600,
    "final_casting_time": 600
  },

  {
    "id": "PSY_magi_item_spell_open_big_treasure_chest",
    "type": "SPELL",
    "name": "Treasure Hunt",
    "description": "Come on! Let's get the treasure!",
    "valid_targets": ["hostile","self","ground","ally"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_HANDS","NO_EXPLOSION_SFX", "NO_PROJECTILE","IGNORE_WALLS" ],
    "range_increment": 1.0,
    "min_aoe": 1,
    "max_aoe": 1,
    "aoe_increment": 0.125,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "difficulty": 4,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "ter_transform",
    "effect_str": "PSY_magi_honey_treasure_transform"
  },

  {
    "id": "PSY_magi_item_spell_no_more_use_magic_fountain",
    "type": "SPELL",
    "name": "Treasure Hunt",
    "description": "Come on! Let's get the treasure!",
    "valid_targets": ["hostile","self","ground","ally"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_HANDS","NO_EXPLOSION_SFX", "NO_PROJECTILE","IGNORE_WALLS" ],
    "range_increment": 1.0,
    "min_aoe": 1,
    "max_aoe": 1,
    "aoe_increment": 0.125,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "difficulty": 4,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "ter_transform",
    "effect_str": "PSY_magi_magic_fountain_transform"
  },

  {
    "id": "PSY_magi_item_spell_open_gargoyle_treasure_chest",
    "type": "SPELL",
    "name": "Treasure Hunt",
    "description": "Come on! Let's get the treasure!",
    "valid_targets": ["hostile","self","ground","ally"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_HANDS","NO_EXPLOSION_SFX", "NO_PROJECTILE","IGNORE_WALLS" ],
    "range_increment": 1.0,
    "min_aoe": 8,
    "max_aoe": 8,
    "aoe_increment": 0.125,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "difficulty": 4,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "ter_transform",
    "effect_str": "PSY_magi_gargoyle_treasure_transform",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_open_chest_terrain_bashes_8", "hit_self": true }
      
    ]
  },

  {
    "id": "PSY_magi_item_spell_open_rocked_sword",
    "type": "SPELL",
    "name": "You pulled your sword out of the rock.",
    "description": "Come on! Let's get the treasure!",
    "valid_targets": ["hostile","self","ground","ally"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_HANDS","NO_EXPLOSION_SFX", "NO_PROJECTILE","IGNORE_WALLS" ],
    "range_increment": 1.0,
    "min_aoe": 8,
    "max_aoe": 8,
    "aoe_increment": 0.125,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "difficulty": 4,
    "max_level": 20,
    "base_casting_time": 100,
    "energy_source": "MANA",
    "shape": "blast",
    "effect": "ter_transform",
    "effect_str": "PSY_magi_sword_rocked_transform",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_open_chest_terrain_bashes", "hit_self": true }
      
    ]
  },

  {
    "id": "PSY_magi_item_spell_open_chest_terrain_bashes_8",
    "type": "SPELL",
    "name": "Bash ground",
    "description": "Bashes the terrain at the target area and destroy fragile furnitures and plants.",
    "valid_targets": ["hostile","self","ground","ally"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_HANDS","NO_EXPLOSION_SFX", "NO_PROJECTILE","IGNORE_WALLS" ],
    "effect": "bash",
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 0,
    "base_casting_time": 100,
    "base_energy_cost": 0,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "min_aoe": 8,
    "max_aoe": 8
  },

  {
    "id": "PSY_magi_item_spell_open_chest_terrain_bashes",
    "type": "SPELL",
    "name": "Bash ground",
    "description": "Bashes the terrain at the target area and destroy fragile furnitures and plants.",
    "valid_targets": ["hostile","self","ground","ally"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_HANDS","NO_EXPLOSION_SFX", "NO_PROJECTILE","IGNORE_WALLS" ],
    "effect": "bash",
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 0,
    "base_casting_time": 100,
    "base_energy_cost": 0,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "min_aoe": 1,
    "max_aoe": 1
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_base",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX","WONDER", "SILENT", "NO_PROJECTILE"],
    "effect": "none",
    "shape": "blast",
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 0,
    "base_casting_time": 100,
    "extra_effects": [
      { "id": "PSY_magi_item_spell_eat_candy_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub2", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub3", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub4", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub5", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub6", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub7", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub8", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub9", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub10", "hit_self": true },
      { "id": "PSY_magi_item_spell_eat_candy_sub11", "hit_self": true }
      
    ]
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_speed_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub2",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_str_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub3",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_dex_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub4",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_per_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub5",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_int_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub6",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_max_hp_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub7",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_max_mana_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub8",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_max_stamina_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub9",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_max_power_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub10",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_max_diligent_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_eat_candy_sub11",
    "type": "SPELL",
    "name": "Eat Magic Candy",
    "description": "Eat the magic candy and get a random buff that lasts a day. The same buff stacks for up to 3 days.",
    "valid_targets": ["self"],
    "flags": ["NO_FAIL", "NO_LEGS", "NO_EXPLOSION_SFX", "SILENT", "NO_PROJECTILE"],
    "spell_class": "NONE",
    "effect_str": "PSY_magi_candy_max_focus_effect",
    "difficulty": 0,
    "min_duration": 8640000,
    "max_duration": 8640000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_spell_healing_robot",
    "type": "SPELL",
    "name": "Heal Robot",
    "description": "heals the robot's HP by 20.",
    "valid_targets": ["ally","hostile"],
    "targeted_monster_species": [
      "ROBOT"
    ],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "effect_str": "PSY_magi_weak_accelerating",
    "difficulty": 0,
    "base_casting_time": 80,
    "min_duration": 3000,
    "max_duration": 3000,
    "max_level": 0,
    "min_damage": -20,
    "max_damage": -20,
    "min_range": 10,
    "max_range": 10
  },

  {
    "id": "PSY_magi_spell_awaken_gargoyle",
    "type": "SPELL",
    "name": "gargoyle",
    "description": "gargoyle",
    "valid_targets": [ "self" ],
    "spell_class": "NONE",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_LEGS", "NO_HANDS", "VERBAL" ],
    "difficulty": 0,
    "min_damage": 1,
    "max_damage": 1,
    "duration_increment": 1,
    "effect": "effect_on_condition",
    "effect_str": "PSY_EOC_summon_gargoyle_hostile",
    "shape": "blast",
    "energy_source": "NONE",
    "base_energy_cost": 0,
    "final_energy_cost": 0,
    "min_range": 10,
    "max_range": 10,
    "min_aoe": 5,
    "max_aoe": 5,
    "base_casting_time": 10,
    "final_casting_time": 10
  },

  {
    "id": "PSY_magi_spell_summon_gargoyle",
    "type": "SPELL",
    "name": "gargoyle",
    "description": "gargoyle",
    "valid_targets": [ "self","ground" ],
    "min_damage": 1,
    "max_damage": 1,
    "max_level": 20,
    "difficulty": 5,
    "spell_class": "NONE",
    "effect": "summon",
    "effect_str": "PSY_mon_gargoyle",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "energy_increment": -5.0,
    "final_energy_cost": 500,
    "base_casting_time": 760,
    "casting_time_increment": -3.0,
    "final_casting_time": 700,
    "min_aoe": 1,
    "max_aoe": 1,
    "flags": ["NO_LEGS","SILENT","PERMANENT","HOSTILE_SUMMON","NO_EXPLOSION_SFX"],
    "min_duration": 60000,
    "max_duration": 60000,
    "duration_increment": 1200
  },

  {
    "id": "PSY_magi_item_spell_Tangled_vine_orb",
    "type": "SPELL",
    "name": "Tangled vine sub",
    "description": "Conjure Crawling magical vines up to the target location, then flourish many tangled vines after reaching there.\n Monsters who steps on the vine will move slower.",
    "valid_targets": [ "hostile"],
    "flags": [ "NO_PROJECTILE","NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "biological",
    "spell_class": "NONE",
    "field_id": "fd_PSY_magi_tangled_vine",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "max_level": 20,
    "min_damage": 5,
    "max_damage": 5,
    "min_aoe": 5,
    "max_aoe": 5,
    "base_casting_time": 100
  },

  {
    "id": "PSY_magi_item_summon_nature",
    "type": "SPELL",
    "name": "Summon Nature",
    "description": "Summons several friendly plant monsters around it.",
    "valid_targets": [ "ground" ],
    "min_damage": 5,
    "max_damage": 10,
    "damage_increment": 1.0,
    "max_level": 20,
    "difficulty": 5,
    "spell_class": "NONE",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_RND_MON_PLANTS",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "energy_increment": -5.0,
    "final_energy_cost": 500,
    "base_casting_time": 760,
    "casting_time_increment": -3.0,
    "final_casting_time": 700,
    "min_aoe": 6,
    "max_aoe": 6,
    "flags": ["NO_LEGS","SILENT","SPAWN_GROUP","RANDOM_DAMAGE"],
    "min_duration": 60000,
    "max_duration": 60000,
    "duration_increment": 1200
  },

  {
    "id": "PSY_magi_item_acidblast",
    "type": "SPELL",
    "name": { "str": "Acidic Spray" },
    "description": "When cast, the mage opens his mouth and sprays acid in a wide cone to dissolve his foes into goo.  Just imagine what he'll do with the goo.",
    "valid_targets": [ "ally", "hostile", "ground","self" ],
    "effect": "attack",
    "shape": "blast",
    "base_casting_time": 200,
    "base_energy_cost": 200,
    "energy_source": "MANA",
    "spell_class": "NONE",
    "field_id": "fd_acid",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "difficulty": 2,
    "max_level": 20,
    "min_damage": 3,
    "max_damage": 3,
    "damage_type": "acid",
    "flags": [ "NO_LEGS", "NO_HANDS" ],
    "min_aoe": 3,
    "max_aoe": 3
  },

  {
    "id": "PSY_magi_item_spell_healing_pollen",
    "type": "SPELL",
    "name": "Healing ally",
    "description": "healing ally.",
    "valid_targets": ["ally","hostile"],
    "targeted_monster_species": [
      "PLANT"
    ],
    "flags": [ "SILENT","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "effect_str": "PSY_magi_weak_accelerating",
    "difficulty": 0,
    "base_casting_time": 80,
    "min_duration": 100,
    "max_duration": 100,
    "min_damage": -10,
    "max_damage": -10,
    "max_level": 0,
    "min_aoe": 5,
    "max_aoe": 5
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_summon_bats",
    "name": "knight charge",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["hostile","self","ground"],
    "effect": "none",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","WONDER","NO_LEGS", "NO_HANDS","IGNORE_WALLS","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_range": 15,
    "max_range": 15,
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_summon_bats_sub", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_summon_bats_sub",
    "type": "SPELL",
    "name": "Orb of Bat",
    "description": "Summons several bats around it.",
    "valid_targets": [ "ground" ],
    "min_damage": 5,
    "max_damage": 10,
    "damage_increment": 1.0,
    "max_level": 20,
    "difficulty": 5,
    "spell_class": "NONE",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_mon_BATS",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "energy_increment": -5.0,
    "final_energy_cost": 500,
    "base_casting_time": 760,
    "casting_time_increment": -3.0,
    "final_casting_time": 700,
    "min_aoe": 6,
    "max_aoe": 6,
    "flags": ["NO_LEGS","SILENT","SPAWN_GROUP","RANDOM_DAMAGE","HOSTILE_SUMMON"],
    "min_duration": 30000,
    "max_duration": 30000,
    "duration_increment": 1200
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_orb_dazzling",
    "name": "dazzling lazer",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": [ "self","hostile","ally"],
    "effect": "attack",
    "damage_type": "pure",
    "field_id": "fd_dazzling",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "shape": "blast",
    "base_casting_time": 100,
    "flags": ["SILENT", "NO_LEGS", "NO_HANDS" ],
    "min_damage": 0,
    "max_damage": 0,
    "min_aoe": 10,
    "max_aoe": 10,
    "message": "The orb emitted a dazzling light!"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_summon_evil_tentacle",
    "name": "Orb of Tentacle",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["self"],
    "effect": "mod_moves",
    "shape": "blast",
    "min_damage": -200,
    "max_damage": -200,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","NO_LEGS", "NO_HANDS","IGNORE_WALLS","NO_PROJECTILE" ],
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_summon_evil_tentacle_sub", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_summon_evil_tentacle_sub",
    "type": "SPELL",
    "name": "Orb of Tentacle",
    "description": "Summons several bats around it.",
    "valid_targets": [ "ground" ],
    "min_damage": 2,
    "max_damage": 2,
    "max_level": 0,
    "difficulty": 5,
    "spell_class": "NONE",
    "effect": "summon",
    "effect_str": "PSY_magi_mon_evil_tentacle",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "energy_increment": -5.0,
    "final_energy_cost": 500,
    "base_casting_time": 760,
    "casting_time_increment": -3.0,
    "final_casting_time": 700,
    "min_aoe": 3,
    "max_aoe": 3,
    "flags": ["NO_LEGS","SILENT","HOSTILE_SUMMON"],
    "min_duration": 18000,
    "max_duration": 18000
  },


  
  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_Orb_of_Pull",
    "name": "Orb of Pull",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["self"],
    "shape": "blast",
    "max_level": 0,
    "effect": "recover_energy",
    "effect_str": "STAMINA",
    "min_damage": -2000,
    "max_damage": -2000,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","NO_LEGS", "NO_HANDS","IGNORE_WALLS","NO_PROJECTILE" ],
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_Orb_of_Pull_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Pull_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Pull_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Pull_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Pull_sub", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Pull_sub",
    "type": "SPELL",
    "name": "Orb of Pull",
    "description": "Attempts to pull the target towards the caster in a straight line.",
    "valid_targets": ["hostile","ally"],
    "flags": [ "NO_LEGS","RANDOM_TARGET" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 15,
    "max_range": 15,
    "base_casting_time": 100,
    "effect": "pull_target"
  },



  {
    "id": "PSY_magi_item_spell_Orb_of_Explosion",
    "type": "SPELL",
    "name": "Orb of Explosion",
    "description": "You hurl a pea-sized glowing orb that when reaches its target or an obstacle produces a pressure-less blast of searing heat.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "ally", "hostile", "ground" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS", "IGNITE_FLAMMABLE" ],
    "max_level": 0,
    "min_damage": 30,
    "max_damage": 30,
    "min_aoe": 4,
    "max_aoe": 4,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "damage_type": "heat",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_Orb_of_Explosion_choice", "hit_self": true }
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_Orb_of_Explosion_choice",
    "name": "Orb of Explosion",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["hostile","self","ground"],
    "effect": "none",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","WONDER","NO_LEGS", "NO_HANDS","IGNORE_WALLS","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_range": 15,
    "max_range": 15,
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_Orb_of_Explosion_STR", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Explosion_DEX", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Explosion_PER", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Explosion_INT", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Explosion_STR",
    "type": "SPELL",
    "name": "Orb of Explosion",
    "description": "While in your hand, it causes an explosion every 15 seconds, dealing 30 HEAT damage to all monsters except yourself within 4 tiles around you. Each time the magic is activated, a random status is lowered by 1 for 1 hour.",
    "valid_targets": ["self"],
    "flags": [  "NO_EXPLOSION_SFX","NO_PROJECTILE" ,"IGNORE_WALLS"],
    "min_range": 0,
    "max_range": 0,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "effect_str": "PSY_magi_ORB_STR_DOWN",
    "difficulty": 0,
    "min_duration": 360000,
    "max_duration": 360000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 300,
    "energy_source": "MANA"
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Explosion_DEX",
    "type": "SPELL",
    "name": "Orb of Explosion",
    "description": "While in your hand, it causes an explosion every 15 seconds, dealing 30 HEAT damage to all monsters except yourself within 4 tiles around you. Each time the magic is activated, a random status is lowered by 1 for 1 hour.",
    "valid_targets": ["self"],
    "flags": [  "NO_EXPLOSION_SFX","NO_PROJECTILE" ,"IGNORE_WALLS"],
    "min_range": 0,
    "max_range": 0,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "effect_str": "PSY_magi_ORB_DEX_DOWN",
    "difficulty": 0,
    "min_duration": 360000,
    "max_duration": 360000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 300,
    "energy_source": "MANA"
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Explosion_PER",
    "type": "SPELL",
    "name": "Orb of Explosion",
    "description": "While in your hand, it causes an explosion every 15 seconds, dealing 30 HEAT damage to all monsters except yourself within 4 tiles around you. Each time the magic is activated, a random status is lowered by 1 for 1 hour.",
    "valid_targets": ["self"],
    "flags": [  "NO_EXPLOSION_SFX","NO_PROJECTILE" ,"IGNORE_WALLS"],
    "min_range": 0,
    "max_range": 0,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "effect_str": "PSY_magi_ORB_PER_DOWN",
    "difficulty": 0,
    "min_duration": 360000,
    "max_duration": 360000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 300,
    "energy_source": "MANA"
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Explosion_INT",
    "type": "SPELL",
    "name": "Orb of Explosion",
    "description": "While in your hand, it causes an explosion every 15 seconds, dealing 30 HEAT damage to all monsters except yourself within 4 tiles around you. Each time the magic is activated, a random status is lowered by 1 for 1 hour.",
    "valid_targets": ["self"],
    "flags": [  "NO_EXPLOSION_SFX","NO_PROJECTILE" ,"IGNORE_WALLS"],
    "min_range": 0,
    "max_range": 0,
    "base_energy_cost": 200,
    "spell_class": "NONE",
    "effect_str": "PSY_magi_ORB_INT_DOWN",
    "difficulty": 0,
    "min_duration": 360000,
    "max_duration": 360000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 300,
    "energy_source": "MANA"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_Orb_of_Burst_explosion",
    "name": "Orb of Burst Explosion",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["hostile","self","ground"],
    "effect": "none",
    "shape": "blast",
    "min_damage": 5,
    "max_damage": 5,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","WONDER","NO_LEGS", "NO_HANDS","IGNORE_WALLS","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_range": 15,
    "max_range": 15,
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_Orb_of_Burst_explosion_sub", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Burst_explosion_sub",
    "type": "SPELL",
    "name": "Orb of Burst Explosion",
    "description": "You hurl a pea-sized glowing orb that when reaches its target or an obstacle produces a pressure-less blast of searing heat.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "ally", "hostile", "ground","self" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS","RANDOM_TARGET" ],
    "max_level": 0,
    "min_damage": 10,
    "max_damage": 10,
    "min_aoe": 2,
    "max_aoe": 2,
    "min_range": 10,
    "max_range": 10,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "damage_type": "biological"
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Freeze",
    "type": "SPELL",
    "name": "Orb of Freeze",
    "description": "You hurl a pea-sized glowing orb that when reaches its target or an obstacle produces a pressure-less blast of searing heat.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "self" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS" ,"NO_PROJECTILE","IGNORE_WALLS"],
    "max_level": 0,
    "min_damage": 0,
    "max_damage": 0,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "effect_str": "PSY_magi_slow_orb_self",
    "min_duration": 6000,
    "max_duration": 6000,
    "difficulty": 0,
    "damage_type": "pure",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_Orb_of_Freeze_sub", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Freeze_sub",
    "type": "SPELL",
    "name": "Orb of Freeze",
    "description": "You hurl a pea-sized glowing orb that when reaches its target or an obstacle produces a pressure-less blast of searing heat.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "ally", "hostile" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS","NO_PROJECTILE" ],
    "max_level": 0,
    "min_damage": 0,
    "max_damage": 0,
    "min_aoe": 7,
    "max_aoe": 7,
    "min_range": 0,
    "max_range": 0,
    "effect_str": "PSY_magi_slow_orb",
    "min_duration": 6000,
    "max_duration": 6000,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "damage_type": "pure"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_Orb_of_Black_Mist",
    "name": "Orb of Black Mist",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["hostile","self","ground"],
    "effect": "none",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","WONDER","NO_LEGS", "NO_HANDS","IGNORE_WALLS","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_range": 15,
    "max_range": 15,
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub2", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub",
    "type": "SPELL",
    "name": "Orb of Black Mist",
    "description": "You hurl a pea-sized glowing orb that when reaches its target or an obstacle produces a pressure-less blast of searing heat.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "ally", "hostile", "ground","self" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS","NO_EXPLOSION_SFX" ],
    "max_level": 0,
    "min_damage": 0,
    "max_damage": 0,
    "min_aoe": 3,
    "max_aoe": 3,
    "field_id": "PSY_fd_darkness",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "damage_type": "pure"
  },
  {
    "id": "PSY_magi_item_spell_Orb_of_Black_Mist_sub2",
    "type": "SPELL",
    "name": "Orb of Black Mist",
    "description": "You hurl a pea-sized glowing orb that when reaches its target or an obstacle produces a pressure-less blast of searing heat.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "ally", "hostile", "ground","self" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS","NO_EXPLOSION_SFX" ],
    "max_level": 0,
    "min_damage": 0,
    "max_damage": 0,
    "min_aoe": 3,
    "max_aoe": 3,
    "field_id": "PSY_fd_darkness",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "damage_type": "pure",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_Orb_of_Black_Mist_summon", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Black_Mist_summon",
    "type": "SPELL",
    "name": "Orb of Black Mist",
    "description": "Summons several monsters around it.",
    "valid_targets": [ "ground" ],
    "min_damage": 1,
    "max_damage": 3,
    "max_level": 0,
    "difficulty": 5,
    "spell_class": "NONE",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_TRANSFORM",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "energy_increment": -5.0,
    "final_energy_cost": 500,
    "base_casting_time": 760,
    "casting_time_increment": -3.0,
    "final_casting_time": 700,
    "min_aoe": 6,
    "max_aoe": 6,
    "flags": ["NO_LEGS","SILENT","SPAWN_GROUP","RANDOM_DAMAGE","HOSTILE_SUMMON"],
    "min_duration": 30000,
    "max_duration": 30000,
    "duration_increment": 1200
  },

  {
    "id": "PSY_magi_item_spell_phase_door",
    "type": "SPELL",
    "name": "Phase Door",
    "description": "Teleports you in a random direction a short distance.",
    "effect": "short_range_teleport",
    "shape": "blast",
    "valid_targets": [ "none" ],
    "flags": [ "SOMATIC", "SILENT", "NO_LEGS","RANDOM_TARGET","NO_EXPLOSION_SFX" ],
    "min_range": 1,
    "max_range": 1,
    "range_increment": 0.1,
    "min_aoe": 5,
    "max_aoe": 5,
    "aoe_increment": 0.2,
    "max_level": 0,
    "difficulty": 2,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "energy_source": "MANA",
    "base_energy_cost": 100
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_Orb_of_Melody",
    "name": "Orb of Black Mist",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["hostile","self","ground"],
    "effect": "none",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","WONDER","NO_LEGS", "NO_HANDS","IGNORE_WALLS","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_range": 15,
    "max_range": 15,
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_Orb_of_Melody_Mad_of_Opera", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Melody_Symphony_of_Summoning", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Melody_Chant_of_Courage", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Melody_Ballad_of_the_Sword", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Melody_Serenade_of_Ice", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Melody_Lullaby_of_Paralysis", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Melody_Rabbit_March_of_Dash", "hit_self": true },
      { "id": "PSY_magi_item_spell_Orb_of_Melody_Nocturne_of_Heavy_Feet", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Melody_Mad_of_Opera",
    "type": "SPELL",
    "name": "Mad of Opera",
    "description": "The orb played a 'mad of opera'.\nThe song caused 20 pure damage to surrounding monsters.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "ally", "hostile", "ground" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS","NO_PROJECTILE" ],
    "max_level": 0,
    "min_damage": 20,
    "max_damage": 20,
    "min_aoe": 6,
    "max_aoe": 6,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "damage_type": "pure",
    "message": "The orb played a 'Mad of Opera'.\nThe song caused 20 pure damage to surrounding monsters."
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Melody_Symphony_of_Summoning",
    "type": "SPELL",
    "name": "Symphony of Summoning",
    "description": "Summons several monsters around it.",
    "valid_targets": [ "ground" ],
    "min_damage": 1,
    "max_damage": 3,
    "max_level": 0,
    "difficulty": 5,
    "spell_class": "NONE",
    "effect": "summon",
    "effect_str": "GROUP_PSY_magi_TRANSFORM",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "energy_increment": -5.0,
    "final_energy_cost": 500,
    "base_casting_time": 760,
    "casting_time_increment": -3.0,
    "final_casting_time": 700,
    "min_aoe": 6,
    "max_aoe": 6,
    "flags": ["NO_LEGS","SILENT","SPAWN_GROUP","RANDOM_DAMAGE","HOSTILE_SUMMON","NO_PROJECTILE"],
    "min_duration": 30000,
    "max_duration": 30000,
    "message": "The orb played a 'Symphony of Summoning'.\nThe song caused hostile monsters to appear around it.",
    "duration_increment": 1200
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Melody_Chant_of_Courage",
    "type": "SPELL",
    "name": "Mad of Opera",
    "description": "The orb played a 'Chant of Courage'.\nThe song greatly increased the morale of the surrounding monsters.",
    "effect": "morale",
    "shape": "blast",
    "valid_targets": [ "ally", "hostile", "ground" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS","NO_PROJECTILE" ],
    "max_level": 0,
    "min_damage": 50,
    "max_damage": 50,
    "min_aoe": 6,
    "max_aoe": 6,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "message": "The orb played a 'Chant of Courage'.\nThe song greatly increased the morale of the surrounding monsters."
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Melody_Ballad_of_the_Sword",
    "type": "SPELL",
    "name": "Ballad of the Sword",
    "description": "Summons several monsters around it.",
    "valid_targets": [ "ground" ],
    "min_damage": 2,
    "max_damage": 4,
    "max_level": 0,
    "difficulty": 5,
    "spell_class": "NONE",
    "effect": "summon",
    "effect_str": "PSY_magi_mon_animated_blade_player",
    "shape": "blast",
    "energy_source": "MANA",
    "base_energy_cost": 600,
    "energy_increment": -5.0,
    "final_energy_cost": 500,
    "base_casting_time": 760,
    "casting_time_increment": -3.0,
    "final_casting_time": 700,
    "min_aoe": 6,
    "max_aoe": 6,
    "flags": ["NO_LEGS","SILENT","RANDOM_DAMAGE","HOSTILE_SUMMON","NO_PROJECTILE"],
    "min_duration": 12000,
    "max_duration": 12000,
    "message": "The orb played a 'Ballad of the Sword'.\nThe song caused a friendly floating swords to appear around it.",
    "duration_increment": 1200
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Melody_Serenade_of_Ice",
    "type": "SPELL",
    "name": "Serenade of Ice",
    "description": "The orb played a 'Serenade of Ice'.\nThe song brought a chill to the surroundings.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "ally","hostile", "ground" ],
    "flags": [ "SOMATIC", "VERBAL" ,"NO_PROJECTILE"],
    "max_level": 20,
    "min_damage": 0,
    "max_damage": 0,
    "damage_increment": 2.2,
    "min_aoe": 6,
    "max_aoe": 6,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "base_casting_time": 200,
    "base_energy_cost": 350,
    "energy_source": "MANA",
    "field_id": "fd_cold_air2",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "difficulty": 4,
    "message": "The orb played a 'Serenade of Ice'.\nThe song brought a chill to the surroundings.",
    "damage_type": "cold"
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Melody_Lullaby_of_Paralysis",
    "type": "SPELL",
    "name": "Lullaby of Paralysis",
    "description": "You blast a cone of frigid air toward the target.",
    "effect": "mod_moves",
    "shape": "blast",
    "valid_targets": [ "ally","hostile", "ground" ],
    "flags": [ "SOMATIC", "VERBAL" ,"NO_PROJECTILE"],
    "max_level": 20,
    "min_damage": -300,
    "max_damage": -300,
    "damage_increment": 2.2,
    "min_aoe": 6,
    "max_aoe": 6,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "base_casting_time": 200,
    "base_energy_cost": 350,
    "energy_source": "MANA",
    "message": "The orb played a 'Lullaby of Paralysis'.\nThe song caused the monsters in the surrounding area to become temporarily immobile.",
    "difficulty": 4
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Melody_Rabbit_March_of_Dash",
    "type": "SPELL",
    "name": "Mad of Opera",
    "description": "The orb played a 'Rabbit March of Dash'.\nThe song greatly increased the movement speed of surrounding monsters for a short time.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "ally", "hostile", "ground" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS","NO_PROJECTILE" ],
    "max_level": 0,
    "min_damage": 0,
    "max_damage": 0,
    "min_aoe": 6,
    "max_aoe": 6,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "effect_str": "PSY_magi_haste_200",
    "min_duration": 600,
    "max_duration": 600,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "damage_type": "pure",
    "message": "The orb played a 'Rabbit March of Dash'.\nThe song greatly increased the movement speed of surrounding monsters for a short time."
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Melody_Nocturne_of_Heavy_Feet",
    "type": "SPELL",
    "name": "Mad of Opera",
    "description": "The orb played a 'Nocturne of Heavy Feet'.\nThe song greatly decreased the movement speed of surrounding monsters for a short time.",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "ally", "hostile", "ground" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS","NO_PROJECTILE" ],
    "max_level": 0,
    "min_damage": 0,
    "max_damage": 0,
    "min_aoe": 6,
    "max_aoe": 6,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "effect_str": "PSY_magi_slow_50",
    "min_duration": 1000,
    "max_duration": 1000,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "damage_type": "pure",
    "message": "The orb played a 'Nocturne of Heavy Feet'.\nThe song greatly decreased the movement speed of surrounding monsters for a short time."
  },

  {
    "id": "PSY_magi_item_spell_Orb_of_Dodge",
    "type": "SPELL",
    "name": "Orb of Dodge",
    "description": "You hurl a pea-sized glowing orb that when reaches its target or an obstacle produces a pressure-less blast of searing heat.",
    "effect": "attack",
    "effect_str": "PSY_magi_ORB_PAIN",
    "min_duration": 100,
    "max_duration": 100,
    "shape": "blast",
    "valid_targets": [ "self" ],
    "flags": [ "SOMATIC", "VERBAL", "NO_LEGS" ],
    "max_level": 0,
    "min_damage": 0,
    "max_damage": 0,
    "min_range": 0,
    "max_range": 0,
    "spell_class": "NONE",
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "difficulty": 0,
    "damage_type": "heat"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_bash_ground",
    "name": "Orb of Black Mist",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["hostile","self","ground"],
    "effect": "none",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","WONDER","NO_LEGS", "NO_HANDS","IGNORE_WALLS","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_range": 15,
    "max_range": 15,
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_bash_ground_sub", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_spell_bash_ground_sub",
    "type": "SPELL",
    "name": "Bash ground",
    "description": "Bashes the terrain at the target area and destroy fragile furnitures and plants.",
    "valid_targets": [ "ground" ],
    "flags": [ "NO_LEGS","NO_PROJECTILE" ],
    "effect": "bash",
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 0,
    "base_casting_time": 100,
    "min_damage": 150,
    "max_damage": 150,
    "max_level": 0,
    "min_aoe": 3,
    "max_aoe": 3
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_thunder_storm",
    "name": "thunder storm",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["hostile","self","ground"],
    "effect": "none",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","WONDER","NO_LEGS", "NO_HANDS","IGNORE_WALLS","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_range": 15,
    "max_range": 15,
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_thunder_storm_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub2", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub3", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub4", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub2", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub3", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub4", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_self", "hit_self": true }
    ]
  },

  {
    "id": "PSY_magi_item_spell_thunder_storm_sub",
    "type": "SPELL",
    "name": "thunder storm",
    "description": "A magic that condenses the power of moonlight and releases it as a laser.",
    "valid_targets": [ "hostile"],
    "flags": [ "RANDOM_TARGET","NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 12,
    "max_level": 1,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "final_energy_cost": 100,
    "min_damage": 35,
    "max_damage": 35,
    "damage_type": "electric",
    "min_range": 15,
    "max_range": 15
  },

  {
    "id": "PSY_magi_item_spell_thunder_storm_sub2",
    "type": "SPELL",
    "name": "thunder storm",
    "description": "A magic that condenses the power of moonlight and releases it as a laser.",
    "valid_targets": [ "hostile"],
    "flags": [ "RANDOM_TARGET","NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 12,
    "max_level": 1,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "final_energy_cost": 100,
    "min_damage": 35,
    "max_damage": 35,
    "damage_type": "electric",
    "min_range": 15,
    "max_range": 15
  },

  {
    "id": "PSY_magi_item_spell_thunder_storm_sub3",
    "type": "SPELL",
    "name": "thunder storm",
    "description": "A magic that condenses the power of moonlight and releases it as a laser.",
    "valid_targets": [ "hostile"],
    "flags": [ "RANDOM_TARGET","NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 12,
    "max_level": 1,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "final_energy_cost": 100,
    "min_damage": 35,
    "max_damage": 35,
    "damage_type": "electric",
    "min_range": 15,
    "max_range": 15
  },

  {
    "id": "PSY_magi_item_spell_thunder_storm_sub4",
    "type": "SPELL",
    "name": "thunder storm",
    "description": "A magic that condenses the power of moonlight and releases it as a laser.",
    "valid_targets": [ "hostile"],
    "flags": [ "RANDOM_TARGET","NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 12,
    "max_level": 1,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "final_energy_cost": 100,
    "min_damage": 35,
    "max_damage": 35,
    "damage_type": "electric",
    "min_range": 15,
    "max_range": 15
  },

  {
    "id": "PSY_magi_item_spell_thunder_storm_self",
    "type": "SPELL",
    "name": "thunder storm",
    "description": "A magic that condenses the power of moonlight and releases it as a laser.",
    "valid_targets": [ "self"],
    "flags": [ "NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "NONE",
    "energy_source": "MANA",
    "difficulty": 12,
    "max_level": 1,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "final_energy_cost": 100,
    "min_damage": 5,
    "max_damage": 5,
    "damage_type": "electric",
    "min_range": 15,
    "max_range": 15
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_thunder_storm_aura",
    "name": "thunder storm",
    "description": "Causes one of the summon spells to be cast.",
    "valid_targets": ["hostile","self","ground"],
    "effect": "none",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 100,
    "base_energy_cost": 500,
    "flags": ["NO_EXPLOSION_SFX","WONDER","NO_LEGS", "NO_HANDS","IGNORE_WALLS","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_range": 15,
    "max_range": 15,
    "message": "",
    "extra_effects": [
      { "id": "PSY_magi_item_spell_thunder_storm_sub", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub2", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub3", "hit_self": true },
      { "id": "PSY_magi_item_spell_thunder_storm_sub4", "hit_self": true }
    ]
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_classic_zombie_charm_palse",
    "name": "Charm Classic Zombie",
    "description": "Mind control the classic zombies present in the surrounding 10 tiles for 10 minutes.",
    "valid_targets": [ "hostile","ground"],
    "effect": "charm_monster",
    "message": "",
    "spell_class": "NONE",
    "targeted_monster_ids": [
      "mon_zombie",
      "mon_beekeeper",
      "mon_zombie_cop",
      "mon_zombie_crawler",
      "mon_zombie_fat",
      "mon_zombie_fireman",
      "mon_zombie_hazmat",
      "mon_zombie_rot",
      "mon_zombie_swat",
      "mon_zombie_tough",
      "mon_zombie_resort_dancer",
      "mon_zombie_resort_bouncer",
      "mon_zombie_resort_staff"
    ],
    "min_damage": 200,
    "max_damage": 200,
    "max_level": 0,
    "shape": "blast",
    "min_aoe": 10,
    "max_aoe": 10,
    "min_duration": 60000,
    "max_duration": 60000,
    "duration_increment": 0,
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "extra_effects": [
      { "id": "PSY_magi_item_spell_classic_zombie_charm_palse_sub", "hit_self": false }
    ]
  },

  {
    "id": "PSY_magi_item_spell_classic_zombie_charm_palse_sub",
    "type": "SPELL",
    "name": "Charm Classic Zombie",
    "description": "A spell scroll that affects a wide area. Greatly increases the movement speed of all affected units.",
    "valid_targets": ["hostile", "ally"],
    "flags": [ "NO_EXPLOSION_SFX","NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "targeted_monster_species": [
      "ZOMBIE"
    ],
    "min_aoe": 10,
    "max_aoe": 10,
    "base_energy_cost": 0,
    "spell_class": "NONE",
    "effect_str": "PSY_magi_zombie_accelerating",
    "difficulty": 0,
    "min_duration": 60000,
    "max_duration": 60000,
    "shape": "blast",
    "effect": "attack",
    "max_level": 0,
    "base_casting_time": 100,
    "energy_source": "MANA"
  },

  {
    "type": "SPELL",
    "id": "PSY_magi_item_spell_control_zombie_whip",
    "name": "Control Zombie",
    "description": "This whip cannot inflict damage, but it can mind-control the target zombie for 10 seconds.",
    "valid_targets": [ "hostile","ground"],
    "effect": "charm_monster",
    "message": "",
    "spell_class": "NONE",
    "targeted_monster_species": [
      "ZOMBIE"
    ],
    "min_damage": 999,
    "max_damage": 999,
    "base_casting_time": 100,
    "final_casting_time": 100,
    "shape": "blast",
    "difficulty": 4,
    "max_level": 0,
    "min_range": 20,
    "max_range": 20,
    "min_duration": 1000,
    "max_duration": 1000,
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ]
  },

  {
    "id": "PSY_magi_item_spell_fusion_fan",
    "type": "SPELL",
    "name": "Plasma fan",
    "description": "Your weapon releases a searing fan of plasma.",
    "effect": "attack",
    "shape": "blast",
    "extra_effects": [ { "id": "PSY_magi_item_spell_fusion_fan_bash" } ],
    "field_id": "fd_fog",
    "min_field_intensity": 1,
    "max_field_intensity": 3,
    "valid_targets": [ "hostile", "ally", "ground" ],
    "flags": [ "LOUD", "NO_EXPLOSION_SFX" ],
    "min_damage": 15,
    "max_damage": 15,
    "min_aoe": 3,
    "max_aoe": 3,
    "min_range": 60,
    "max_range": 60,
    "difficulty": 1,
    "sound_description": "fzzzt",
    "damage_type": "heat"
  },
  {
    "id": "PSY_magi_item_spell_fusion_fan_bash",
    "type": "SPELL",
    "name": "Plasma fan",
    "description": "Damages terrain within the plasma fan.",
    "effect": "bash",
    "shape": "blast",
    "valid_targets": [ "ground" ],
    "flags": [ "SILENT", "NO_EXPLOSION_SFX", "IGNORE_WALLS", "RANDOM_DAMAGE" ],
    "min_damage": 15,
    "max_damage": 60,
    "min_aoe": 3,
    "max_aoe": 3,
    "min_range": 60,
    "max_range": 60,
    "difficulty": 1,
    "sound_description": "fzzzt",
    "damage_type": "heat"
  },

  {
    "id": "PSY_magi_item_spell_freeze_gun",
    "type": "SPELL",
    "name": "Freeze",
    "description": "Your weapon releases a freezing gas.",
    "effect": "attack",
    "shape": "blast",
    "effect_str": "PSY_magi_slow",
    "min_duration": 700,
    "max_duration": 700,
    "extra_effects": [  ],
    "field_id": "fd_cold_air3",
    "min_field_intensity": 1,
    "max_field_intensity": 3,
    "valid_targets": [ "hostile", "ally", "ground" ],
    "flags": [ "NO_PROJECTILE", "NO_EXPLOSION_SFX" ],
    "min_damage": 5,
    "max_damage": 5,
    "min_range": 60,
    "max_range": 60,
    "difficulty": 1,
    "damage_type": "cold"
  },

  {
    "id": "PSY_magi_item_spell_pull_gun",
    "type": "SPELL",
    "name": "Pull",
    "description": "Your weapon attempts to pull the target towards the caster in a straight line.",
    "valid_targets": ["hostile","ally", "ground","item"],
    "flags": [ "NO_PROJECTILE","NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "max_level": 20,
    "min_range": 60,
    "max_range": 60,
    "effect": "pull_target"
  },

  {
    "id": "PSY_magi_item_spell_push_gun",
    "type": "SPELL",
    "name": "Push",
    "description": "Your weapon attempts to push the target.",
    "valid_targets": ["hostile","ally", "ground"],
    "flags": [ "NO_PROJECTILE","NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "min_damage": 5,
    "max_damage": 5,
    "max_level": 20,
    "min_range": 60,
    "max_range": 60,
    "effect": "directed_push"
  },

  {
    "id": "PSY_magi_item_spell_vine_gun",
    "type": "SPELL",
    "name": "Vine",
    "description": "Your weapon attempts to summon 2 vines around the target.",
    "valid_targets": ["ground"],
    "flags": [ "NO_PROJECTILE","NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "effect": "summon",
    "effect_str": "PSY_magi_mon_vine_tentacle",
    "min_aoe": 3,
    "max_aoe": 3,
    "min_damage": 2,
    "max_damage": 2,
    "min_duration": 1200,
    "max_duration": 1200,
    "max_level": 20,
    "min_range": 60,
    "max_range": 60
  },

  {
    "id": "PSY_magi_item_spell_charm_gun",
    "type": "SPELL",
    "name": "Charm",
    "description": "Your weapon attempts to charm the target.",
    "valid_targets": ["hostile","ground"],
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS","RECHARM" ],
    "shape": "blast",
    "spell_class": "NONE",
    "effect": "charm_monster",
    "min_damage": 9999999,
    "max_damage": 9999999,
    "min_duration": 1000,
    "max_duration": 1000,
    "max_level": 20,
    "min_range": 60,
    "max_range": 60
  },

  {
    "id": "PSY_magi_item_spell_banish_gun",
    "type": "SPELL",
    "name": "Banish",
    "description": "Your weapon attempts to banish the target.",
    "valid_targets": ["hostile","ally"],
    "flags": [ "NO_PROJECTILE","NO_LEGS","IGNORE_WALLS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "effect": "banishment",
    "min_damage": 9999999,
    "max_damage": 9999999,
    "max_level": 20,
    "min_range": 60,
    "max_range": 60
  },

  {
    "id": "PSY_magi_item_spell_heal_gun",
    "type": "SPELL",
    "name": "Heal",
    "description": "Your weapon heal the target.",
    "effect": "attack",
    "shape": "blast",
    "extra_effects": [  ],
    "valid_targets": [ "hostile", "ally", "ground" ],
    "flags": [ "NO_PROJECTILE", "RANDOM_DAMAGE"],
    "min_damage": -60,
    "max_damage": -30,
    "min_range": 60,
    "max_range": 60,
    "difficulty": 1,
    "damage_type": "pure"
  },

  {
    "id": "PSY_magi_item_spell_warp_gun",
    "type": "SPELL",
    "name": "Warp",
    "description": "Moves instantly to the target point, piercing and damaging enemies in its path.",
    "effect": "short_range_teleport",
    "shape": "blast",
    "valid_targets": [ "ground" ],
    "flags": [ "NO_PROJECTILE","SOMATIC", "SILENT", "NO_LEGS", "TARGET_TELEPORT" ],
    "min_range": 60,
    "max_range": 60,
    "difficulty": 1,
    "min_aoe": 3,
    "max_aoe": 3
  },

  {
    "id": "PSY_magi_item_spell_laser_gun",
    "type": "SPELL",
    "name": "laser",
    "description": "Moves instantly to the target point, piercing and damaging enemies in its path.",
    "effect": "attack",
    "shape": "line",
    "valid_targets": [ "hostile", "ally", "ground","item" ],
    "flags": [ "NO_PROJECTILE", "NO_LEGS","IGNITE_FLAMMABLE" ],
    "field_id": "fd_plasma",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "min_range": 60,
    "max_range": 60,
    "difficulty": 1,
    "min_damage": 20,
    "max_damage": 20,
    "damage_type": "heat"
  },

  {
    "id": "PSY_magi_item_spell_glass_gun",
    "type": "SPELL",
    "name": "Set Magic Trap: Glass",
    "description": "Place a glass trap at the target location.",
    "valid_targets": ["ground" ],
    "effect": "add_trap",
    "effect_str": "tr_glass",
    "shape": "blast",
    "flags": [ "PERMANENT","SILENT", "NO_LEGS","NO_EXPLOSION_SFX" ],
    "difficulty": 0,
    "min_range": 60,
    "max_range": 60,
    "min_duration": 100,
    "max_duration": 100
  },

  {
    "id": "PSY_magi_item_spell_mine_gun",
    "type": "SPELL",
    "name": "Set Magic Trap: Mine",
    "description": "Place a mine trap at the target location.",
    "valid_targets": ["ground" ],
    "effect": "add_trap",
    "effect_str": "PSY_tr_landmine",
    "shape": "blast",
    "flags": [ "PERMANENT","SILENT", "NO_LEGS","NO_EXPLOSION_SFX" ],
    "difficulty": 0,
    "min_range": 60,
    "max_range": 60,
    "min_duration": 100,
    "max_duration": 100
  },

  {
    "id": "PSY_magi_item_spell_polymorph_cow_gun",
    "type": "SPELL",
    "name": "Cow Polymorph",
    "description": "Transform target enemy into cow.",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "NO_PROJECTILE" ],
    "effect": "targeted_polymorph",
    "effect_str": "mon_cow",
    "shape": "blast",
    "spell_class": "NONE",
    "min_damage": 199,
    "max_damage": 199,
    "damage_type": "pure",
    "min_range": 60,
    "max_range": 60
  },

  {
    "id": "PSY_magi_item_spell_polymorph_bear_gun",
    "type": "SPELL",
    "name": "Bear Polymorph",
    "description": "Transform target enemy into bear.",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "NO_PROJECTILE" ],
    "effect": "targeted_polymorph",
    "effect_str": "mon_bear",
    "shape": "blast",
    "spell_class": "NONE",
    "min_damage": 299,
    "max_damage": 299,
    "damage_type": "pure",
    "min_range": 60,
    "max_range": 60
  },

  {
    "id": "PSY_magi_item_spell_polymorph_chicken_gun",
    "type": "SPELL",
    "name": "Chicken Polymorph",
    "description": "Transform target enemy into chicken.",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "NO_PROJECTILE" ],
    "effect": "targeted_polymorph",
    "effect_str": "mon_chicken",
    "shape": "blast",
    "spell_class": "NONE",
    "min_damage": 119,
    "max_damage": 119,
    "damage_type": "pure",
    "min_range": 60,
    "max_range": 60
  },

  {
    "id": "PSY_magi_item_spell_stun_gun",
    "type": "SPELL",
    "name": "Stun",
    "description": "Your weapon releases a stunning wave.",
    "effect": "attack",
    "shape": "blast",
    "effect_str": "stunned",
    "min_duration": 1000,
    "max_duration": 1000,
    "extra_effects": [  ],
    "valid_targets": [ "hostile", "ally", "ground" ],
    "flags": [ "NO_PROJECTILE", "NO_EXPLOSION_SFX" ],
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 60,
    "max_range": 60,
    "difficulty": 1,
    "damage_type": "pure"
  },

  {
    "id": "PSY_magi_item_spell_blind_gun",
    "type": "SPELL",
    "name": "Blind",
    "description": "Your weapon releases a dark wave.",
    "effect": "attack",
    "shape": "blast",
    "effect_str": "blind",
    "min_duration": 1500,
    "max_duration": 1500,
    "extra_effects": [  ],
    "valid_targets": [ "hostile", "ally", "ground" ],
    "flags": [ "NO_PROJECTILE", "NO_EXPLOSION_SFX" ],
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 60,
    "max_range": 60,
    "difficulty": 1,
    "damage_type": "pure"
  },

  {
    "id": "PSY_magi_item_spell_Mud_Spreader",
    "type": "SPELL",
    "name": "Mud",
    "description": "Your weapon releases mud.",
    "effect": "attack",
    "shape": "blast",
    "effect_str": "PSY_magi_slow_50",
    "min_duration": 1200,
    "max_duration": 1200,
    "extra_effects": [  ],
    "valid_targets": [ "hostile", "ally", "ground" ],
    "flags": [ "NO_PROJECTILE", "NO_EXPLOSION_SFX" ],
    "min_damage": 5,
    "max_damage": 5,
    "min_range": 60,
    "max_range": 60,
    "difficulty": 1,
    "damage_type": "cold"
  },

  {
    "id": "PSY_magi_item_spell_Quicksilver",
    "type": "SPELL",
    "name": "Quicksilver",
    "description": "Blast a cone of toxic mercury toward the target.",
    "valid_targets": [ "hostile", "ally" ,"ground"],
    "flags": [ "NO_PROJECTILE","LOUD" ],
    "effect": "attack",
    "effect_str": "PSY_magi_poison_mercury",
    "min_duration": 6000,
    "max_duration": 6000,
    "min_aoe": 60,
    "max_aoe": 60,
    "shape": "cone",
    "spell_class": "NONE",
    "difficulty": 3,
    "max_level": 1,
    "base_casting_time": 100,
    "min_damage": 16,
    "max_damage": 16,
    "damage_type": "biological",
    "field_id": "fd_toxic_gas",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "min_range": 7,
    "max_range": 7
  },

  {
    "id": "PSY_magi_Thunder_Striker_base",
    "type": "SPELL",
    "name": "Thunder Striker",
    "description": "Summon a thunder snake that jumps from enemy to enemy in the target area and dealing damage to them.",
    "valid_targets": ["hostile" ],
    "effect": "attack",
    "shape": "blast",
    "spell_class": "PSY_magi_DUNGEON_MAGE",
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "CONCENTRATE", "SOMATIC","NO_PROJECTILE" ],
    "min_damage": 10,
    "max_damage": 20,
    "damage_increment": 0.5,
    "min_aoe": 6,
    "max_aoe": 8,
    "aoe_increment": 0.1,
    "min_range": 60,
    "max_range": 60,
    "range_increment": 0.4,
    "max_level": 20,
    "difficulty": 5,
    "base_casting_time": 200,
    "base_energy_cost": 320,
    "energy_increment": -5,
    "final_energy_cost": 220,
    "damage_type": "electric",
    "extra_effects": [
      { "id": "PSY_magi_Thunder_Striker_line" }
    ]
  },

  
  {
    "id": "PSY_magi_Thunder_Striker_line",
    "type": "SPELL",
    "name": "Thunder Snake1",
    "description": "Thunder snake.",
    "valid_targets": [  "hostile", "ground","ally"],
    "effect": "attack",
    "shape": "line",
    "spell_class": "PSY_magi_DUNGEON_MAGE",
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "CONCENTRATE", "SOMATIC","NO_PROJECTILE" ],
    "min_damage": 3,
    "max_damage": 8,
    "damage_increment": 0.5,
    "min_range": 60,
    "max_range": 60,
    "max_level": 20,
    "difficulty": 5,
    "field_id": "fd_electricity",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "base_casting_time": 200,
    "base_energy_cost": 320,
    "energy_increment": -5,
    "final_energy_cost": 220,
    "damage_type": "electric",    
    "extra_effects": [
      { "id": "PSY_magi_Thunder_Striker_1" }
    ]
  },

  {
    "id": "PSY_magi_Thunder_Striker_1",
    "type": "SPELL",
    "name": "Thunder Snake1",
    "description": "Thunder snake.",
    "valid_targets": [  "hostile"],
    "effect": "attack",
    "shape": "line",
    "spell_class": "PSY_magi_DUNGEON_MAGE",
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "CONCENTRATE", "SOMATIC","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_damage": 5,
    "max_damage": 5,
    "min_range": 5,
    "max_range": 5,
    "max_level": 20,
    "difficulty": 5,
    "field_id": "fd_electricity",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "base_casting_time": 200,
    "base_energy_cost": 320,
    "energy_increment": -5,
    "final_energy_cost": 220,
    "damage_type": "electric",
    "extra_effects": [
      { "id": "PSY_magi_Thunder_Striker_2" }
    ]
  },

  {
    "id": "PSY_magi_Thunder_Striker_2",
    "type": "SPELL",
    "name": "Thunder Snake1",
    "description": "Thunder snake.",
    "valid_targets": [  "hostile"],
    "effect": "attack",
    "shape": "line",
    "spell_class": "PSY_magi_DUNGEON_MAGE",
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "CONCENTRATE", "SOMATIC","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_damage": 10,
    "max_damage": 10,
    "min_range": 5,
    "max_range": 5,
    "max_level": 20,
    "difficulty": 5,
    "field_id": "fd_electricity",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "base_casting_time": 200,
    "base_energy_cost": 320,
    "energy_increment": -5,
    "final_energy_cost": 220,
    "damage_type": "electric",
    "extra_effects": [
      { "id": "PSY_magi_Thunder_Striker_3" }
    ]
  },

  {
    "id": "PSY_magi_Thunder_Striker_3",
    "type": "SPELL",
    "name": "Thunder Snake1",
    "description": "Thunder snake.",
    "valid_targets": [  "hostile"],
    "effect": "attack",
    "shape": "line",
    "spell_class": "PSY_magi_DUNGEON_MAGE",
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "CONCENTRATE", "SOMATIC","RANDOM_TARGET","NO_PROJECTILE" ],
    "min_damage": 15,
    "max_damage": 15,
    "min_range": 5,
    "max_range": 5,
    "range_increment": 0.1,
    "max_level": 20,
    "difficulty": 5,
    "field_id": "fd_electricity",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "base_casting_time": 200,
    "base_energy_cost": 320,
    "energy_increment": -5,
    "final_energy_cost": 220,
    "damage_type": "electric"
  },

  {
    "id": "PSY_magi_item_spell_wisp_gun",
    "type": "SPELL",
    "name": "Wisp",
    "description": "Your weapon attempts to summon 1 wisp around the target.",
    "valid_targets": ["ground"],
    "flags": [ "NO_PROJECTILE","NO_LEGS" ],
    "shape": "blast",
    "spell_class": "NONE",
    "effect": "summon",
    "effect_str": "PSY_magi_mon_wisp",
    "min_aoe": 3,
    "max_aoe": 3,
    "min_damage": 1,
    "max_damage": 1,
    "min_duration": 1800,
    "max_duration": 1800,
    "max_level": 20,
    "min_range": 60,
    "max_range": 60
  },

  {
    "id": "PSY_magi_item_spell_Tidalwave",
    "type": "SPELL",
    "name": "Tidalwave",
    "description": "Blast a cone of water toward the target.",
    "valid_targets": [ "hostile", "ally" ,"ground"],
    "flags": [ "NO_PROJECTILE","LOUD" ],
    "effect": "area_push",
    "min_aoe": 90,
    "max_aoe": 90,
    "shape": "cone",
    "spell_class": "NONE",
    "difficulty": 3,
    "max_level": 1,
    "base_casting_time": 100,
    "damage_type": "pure",
    "field_id": "fd_mechanical_fluid",
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "min_range": 9,
    "max_range": 9
  }


]

