[



    {
        "id": "PSY_magi_shapeshift_to_element_spell",
        "type": "SPELL",
        "name": "Shapeshift:Element",
        "description": "Choose one of the four types of elements and shapeshift yourself.\nWhile shapeshifting, natural recovery of MP is disabled and hunger speed is tripled.\nOther details of each element can be found in the selection dialog that appears after the magic is casted.",
        "valid_targets": [ "self" ],
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
        "effect": "effect_on_condition",
        "effect_str": "PSY_EOC_SHAPESHIFT_CHANGE_ELEMENT_FORM",
        "shape": "blast",
        "difficulty": 4,
        "max_level": 20,
        "energy_source": "MANA",
        "base_energy_cost": 750,
        "energy_increment": -10.0,
        "final_energy_cost": 550,
        "base_casting_time": 6000,
        "casting_time_increment": -290,
        "final_casting_time": 100,
        "learn_spells": { "PSY_magi_shapeshift_human_spell": 0, "PSY_magi_shapeshift_element_castable_spell": 0, "PSY_magi_shapeshift_element_castable_spell_summon": 0 } 
    },

    
    {
        "id": "PSY_magi_shapeshift_water_element_spell",
        "type": "SPELL",
        "name": "Water Element Form",
        "description": "Transform into a water element",
        "valid_targets": [ "self" ],
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
        "effect": "effect_on_condition",
        "effect_str": "PSY_EOC_SHAPESHIFT_WATER_ELEMENT",
        "shape": "blast",
        "difficulty": 2,
        "max_level": 15,
        "energy_source": "MANA",
        "base_energy_cost": 150,
        "base_casting_time": 6000
    },

    {
        "id": "PSY_magi_shapeshift_fire_element_spell",
        "type": "SPELL",
        "name": "Fire Element Form",
        "description": "Transform into a fire element",
        "valid_targets": [ "self" ],
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
        "effect": "effect_on_condition",
        "effect_str": "PSY_EOC_SHAPESHIFT_FIRE_ELEMENT",
        "shape": "blast",
        "difficulty": 2,
        "max_level": 15,
        "energy_source": "MANA",
        "base_energy_cost": 150,
        "base_casting_time": 6000
    },

    {
        "id": "PSY_magi_shapeshift_air_element_spell",
        "type": "SPELL",
        "name": "Air Element Form",
        "description": "Transform into an air element",
        "valid_targets": [ "self" ],
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
        "effect": "effect_on_condition",
        "effect_str": "PSY_EOC_SHAPESHIFT_AIR_ELEMENT",
        "shape": "blast",
        "difficulty": 2,
        "max_level": 15,
        "energy_source": "MANA",
        "base_energy_cost": 150,
        "base_casting_time": 6000
    },

    {
        "id": "PSY_magi_shapeshift_earth_element_spell",
        "type": "SPELL",
        "name": "Earth Element Form",
        "description": "Transform into an earth element",
        "valid_targets": [ "self" ],
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
        "effect": "effect_on_condition",
        "effect_str": "PSY_EOC_SHAPESHIFT_EARTH_ELEMENT",
        "shape": "blast",
        "difficulty": 2,
        "max_level": 15,
        "energy_source": "MANA",
        "base_energy_cost": 150,
        "base_casting_time": 6000
    },

    {
        "id": "PSY_magi_shapeshift_human_spell",
        "type": "SPELL",
        "name": "Shapeshift:Human",
        "description": "Shapeshift into a human form.",
        "valid_targets": [ "self" ],
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "flags": [ "SILENT","NO_LEGS", "NO_HANDS" ],
        "effect": "effect_on_condition",
        "effect_str": "PSY_EOC_SHAPESHIFT_HUMAN_FORM",
        "shape": "blast",
        "difficulty": 0,
        "max_level": 0,
        "energy_source": "MANA",
        "base_energy_cost": 0,
        "base_casting_time": 500
    },

    {
        "id": "PSY_magi_shapeshift_element_castable_spell",
        "type": "SPELL",
        "name": "Element Magic",
        "description": "Casts an attack magic corresponding to the element being shapeshifted.\nIt fails to cast when in the human state.\nFire:\n・AoE:4 Damage:40heat Range:12 burn effect\nWater:\n・Aoe:45Cone Damage:20pure Range:12 Create Fog & slow effect\nAir:\n・AoE:4 Damage:55cut Range:12 pull effect\nEarth:\n・AoE:7 Damage30bash Range:2 downed effect",
        "valid_targets": [ "self" ],
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
        "effect": "effect_on_condition",
        "effect_str": "PSY_EOC_element_spell_cast",
        "shape": "blast",
        "difficulty": 3,
        "max_level": 20,
        "energy_source": "STAMINA",
        "base_energy_cost": 3000,
        "energy_increment": -50.0,
        "final_energy_cost": 2000,
        "base_casting_time": 300,
        "casting_time_increment": -10,
        "final_casting_time": 100
    },

    {
      "id": "PSY_magi_shapeshift_element_castable_spell_summon",
      "type": "SPELL",
      "name": "Summon Elemental Vassal",
      "description": "Casts a summon magic corresponding to the element being shapeshifted.\nIt fails to cast when in the human state.",
      "valid_targets": [ "self" ],
      "spell_class": "PSY_magi_DUNGEON_MAGE",
      "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
      "effect": "effect_on_condition",
      "effect_str": "PSY_EOC_element_summon_spell_cast",
      "shape": "blast",
      "difficulty": 3,
      "max_level": 20,
      "energy_source": "MANA",
      "base_energy_cost": 500,
      "energy_increment": -7.5,
      "final_energy_cost": 350,
      "base_casting_time": 2000,
      "casting_time_increment": -75,
      "final_casting_time": 500,
      "min_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] },
      "max_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] }
    },

    {
      "id": "PSY_magi_shapeshift_element_summon_fire",
      "type": "SPELL",
      "name": "Element Summon:Fire",
      "description": "Summon a Fire Elemental Vassal.",
      "valid_targets": [ "ground" ],
      "min_damage": 1,
      "max_damage": 1,
      "max_level": 0,
      "difficulty": 5,
      "spell_class": "PSY_magi_DUNGEON_MAGE",
      "effect": "summon",
      "effect_str": "PSY_magi_mon_fire_element_vassal",
      "shape": "blast",
      "energy_source": "MANA",
      "base_energy_cost": 500,
      "base_casting_time": 6000,
      "min_aoe": 3,
      "max_aoe": 3,
      "flags": [ "SOMATIC", "NO_LEGS","SILENT"],
      "min_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] },
      "max_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] }
    },

    {
      "id": "PSY_magi_shapeshift_element_summon_water",
      "type": "SPELL",
      "name": "Element Summon:Water",
      "description": "Summon a Water Elemental Vassal.",
      "valid_targets": [ "ground" ],
      "min_damage": 1,
      "max_damage": 1,
      "max_level": 0,
      "difficulty": 5,
      "spell_class": "PSY_magi_DUNGEON_MAGE",
      "effect": "summon",
      "effect_str": "PSY_magi_mon_water_element_vassal",
      "shape": "blast",
      "energy_source": "MANA",
      "base_energy_cost": 500,
      "base_casting_time": 6000,
      "min_aoe": 3,
      "max_aoe": 3,
      "flags": [ "SOMATIC", "NO_LEGS","SILENT"],
      "min_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] },
      "max_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] }
    },

    {
      "id": "PSY_magi_shapeshift_element_summon_earth",
      "type": "SPELL",
      "name": "Element Summon:Earth",
      "description": "Summon an Earth Elemental Vassal.",
      "valid_targets": [ "ground" ],
      "min_damage": 1,
      "max_damage": 1,
      "max_level": 0,
      "difficulty": 5,
      "spell_class": "PSY_magi_DUNGEON_MAGE",
      "effect": "summon",
      "effect_str": "PSY_magi_mon_earth_element_vassal",
      "shape": "blast",
      "energy_source": "MANA",
      "base_energy_cost": 500,
      "base_casting_time": 6000,
      "min_aoe": 3,
      "max_aoe": 3,
      "flags": [ "SOMATIC", "NO_LEGS","SILENT"],
      "min_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] },
      "max_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] }
    },

    {
      "id": "PSY_magi_shapeshift_element_summon_air",
      "type": "SPELL",
      "name": "Element Summon:Air",
      "description": "Summon an Air Elemental Vassal.",
      "valid_targets": [ "ground" ],
      "min_damage": 1,
      "max_damage": 1,
      "max_level": 0,
      "difficulty": 5,
      "spell_class": "PSY_magi_DUNGEON_MAGE",
      "effect": "summon",
      "effect_str": "PSY_magi_mon_air_element_vassal",
      "shape": "blast",
      "energy_source": "MANA",
      "base_energy_cost": 500,
      "base_casting_time": 6000,
      "min_aoe": 3,
      "max_aoe": 3,
      "flags": [ "SOMATIC", "NO_LEGS","SILENT"],
      "min_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] },
      "max_duration": { "math": [ "((u_spell_level('PSY_magi_shapeshift_element_castable_spell_summon')+1)*30000)+120000" ] }
    },

    {
        "id": "PSY_magi_shapeshift_element_castable_spell_support",
        "type": "SPELL",
        "name": "Element Special",
        "description": "Casts a special magic corresponding to the element being shapeshifted.\nIt fails to cast when in the human state.\n\nFire:\n・Summons an aura of fire that protects from the harmful environment for one hour and sets the attacker on fire.\n\nWater:\n・Create 2 mass of cleansed water with super strong disinfectant properties that can be used to instantly disinfect wounds.\n\nAir:\n・Makes the most of the power of the wind, and after flying a certain distance instantly, it can stay suspended in the air for 30 seconds.\n\nEarth:\n・Restores all stamina and significantly increases status for 3 minutes.\nStackable up to 100 times\nsleepiness increases with each cast.",
        "valid_targets": [ "self" ],
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "flags": [ "CONCENTRATE", "VERBAL", "SOMATIC" ],
        "effect": "effect_on_condition",
        "effect_str": "PSY_EOC_element_support_spell_cast",
        "shape": "blast",
        "difficulty": 3,
        "max_level": 20,
        "energy_source": "MANA",
        "base_energy_cost": 400,
        "energy_increment": -7.5,
        "final_energy_cost": 250,
        "base_casting_time": 2000,
        "casting_time_increment": -80,
        "final_casting_time": 400
    },

    {
        "id": "PSY_magi_shapeshift_element_spell_create_med",
        "type": "SPELL",
        "name": "Create mass of cleansed water",
        "description": "Create 2 mass of cleansed water with super strong disinfectant properties that can be used to instantly disinfect wounds.",
        "valid_targets": [ "self" ],
        "min_damage": 2,
        "max_damage": 2,
        "effect": "spawn_item",
        "effect_str": "PSY_magi_element_cleansed_water",
        "shape": "blast",
        "base_casting_time": 3000,
        "base_energy_cost": 360,
        "min_duration": 1,
        "max_duration": 2,
        "duration_increment": 1,
        "difficulty": 0,
        "max_level": 1,
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "energy_source": "MANA",
        "flags": [ "PERMANENT", "NO_LEGS", "CONCENTRATE" ]
    },


    {
        "type": "SPELL",
        "id": "PSY_magi_shapeshift_element_spell_rocket_jump",
        "name": "Air Jump",
        "description": "Makes the most of the power of the wind, and after flying a certain distance instantly, it can stay suspended in the air for 30 seconds.",
        "valid_targets": [  "ground" ],
        "extra_effects": [ { "id": "PSY_magi_shapeshift_element_rocket_jump_levitate", "hit_self": true } ],
        "flags": [ "SILENT", "NO_LEGS", "NO_HANDS", "RANDOM_DAMAGE", "EXTRA_EFFECTS_FIRST" ],
        "message": "",
        "effect": "dash",
        "effect_str": "downed",
        "min_damage": 20,
        "max_damage": 40,
        "shape": "blast",
        "min_range": 4,
        "max_range": 4,
        "spell_class": "NONE",
        "difficulty": 0,
        "max_level": 1,
        "energy_source": "NONE"
    },

    {
        "id": "PSY_magi_shapeshift_element_rocket_jump_levitate",
        "type": "SPELL",
        "name": { "str": "Air Jump Levitation" },
        "description": "Chained before a rocket jump.  Grants a brief instant of levitation to simulate a rocket pack-s limited flying ability.",
        "valid_targets": [ "self" ],
        "flags": [ "NO_HANDS", "NO_LEGS" ],
        "effect": "attack",
        "effect_str": "PSY_magi_element_flight_effect",
        "shape": "blast",
        "difficulty": 1,
        "max_level": 1,
        "min_range": 1,
        "max_range": 1,
        "//": "duration is in moves",
        "min_duration": 3000,
        "max_duration": 3000
    },

    {
        "id": "PSY_magi_shapeshift_element_overload",
        "type": "SPELL",
        "name": { "str": "Overload" },
        "description": "Restores all stamina and significantly increases status for 3 minutes.\nStackable up to 100 times\nsleepiness increases with each cast.",
        "valid_targets": [ "self" ],
        "flags": [ "NO_HANDS", "NO_LEGS" ],
        "effect": "attack",
        "effect_str": "PSY_magi_element_overload_effect",
        "extra_effects": [ { "id": "PSY_magi_shapeshift_element_overload_stamina_heal", "hit_self": true } ],
        "shape": "blast",
        "difficulty": 1,
        "max_level": 1,
        "min_range": 1,
        "max_range": 1,
        "//": "duration is in moves",
        "min_duration": 30000,
        "max_duration": 30000
    },

    {
        "id": "PSY_magi_shapeshift_element_overload_stamina_heal",
        "type": "SPELL",
        "name": { "str": "Overload" },
        "description": "Restores all stamina and significantly increases status for a certain period of time.\nStackable up to 100 times\nsleepiness increases with each cast.",
        "valid_targets": [ "self" ],
        "flags": [ "NO_HANDS", "NO_LEGS" ],
        "effect": "attack",
        "effect_str": "PSY_magi_element_overload_effect_heal",
        "shape": "blast",
        "difficulty": 1,
        "max_level": 1,
        "min_range": 1,
        "max_range": 1,
        "//": "duration is in moves",
        "min_duration": 1,
        "max_duration": 1
    },

    {
        "id": "PSY_magi_shapeshift_element_spell_create_fire_shield",
        "type": "SPELL",
        "name": "Fire Shield",
        "description": "Summons an aura of fire that protects from the harmful environment for one hour and sets the attacker on fire.",
        "valid_targets": [ "self" ],
        "min_damage": 1,
        "max_damage": 1,
        "effect": "spawn_item",
        "effect_str": "PSY_magi_item_element_fire_shield",
        "shape": "blast",
        "base_casting_time": 3000,
        "base_energy_cost": 360,
        "min_duration": 360000,
        "max_duration": 360000,
        "duration_increment": 1,
        "difficulty": 0,
        "max_level": 1,
        "spell_class": "PSY_magi_DUNGEON_MAGE",
        "energy_source": "MANA",
        "flags": [  "NO_LEGS", "CONCENTRATE" ]
    }

]